<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>CTFç³»åˆ—-Reverse Engineeringé€†å‘å·¥ç¨‹åŸºç¤I | M3t30r</title><meta name="keywords" content="Security,CTF,Education,Reverse Engineering"><meta name="author" content="Albert Huang,alb105322129@gmail.com"><meta name="copyright" content="Albert Huang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Reverseæ˜¯CTFç«¶è³½ä¸­ç®—æ˜¯ç›¸å°å›°é›£åº¦é«˜çš„ä¸€å€‹é¡åˆ¥ï¼ŒåŸºæ–¼å…¶æ¯”è¼ƒåå‘é›»è…¦åº•å±¤çš„éƒ¨åˆ†ï¼Œå› æ­¤ç›¸å°ä¸æœƒåƒä¹‹å‰çš„Webèˆ‡Cryptoé¡åˆ¥é‚£éº¼ç›´è¦ºï¼Œé™¤äº†äºŒé€²ä½æª”æ¡ˆçš„éœæ…‹èˆ‡å‹•æ…‹åˆ†æï¼Œçµ„åˆèªè¨€(assembly)ä¹Ÿæœƒæ˜¯å…¶ä¸­ä¸€å€‹é‡é»å­¸ç¿’çš„éƒ¨åˆ†ï¼Œå› æ­¤é€™è£¡ä¹Ÿæœƒå…ˆä»‹ç´¹ä¸€äº›éœ€è¦çŸ¥é“çš„çµ„åˆèªè¨€çŸ¥è­˜ã€‚æ­¡è¿å„ä½ä¾†è¨Šèªªæ˜æˆ–è£œå……ç­†è€…ä¸è¶³çš„éƒ¨åˆ†å–”!ğŸ¤— Basic Assemblyçµ„åˆèªè¨€æœƒå¤§é‡å‡ºç¾åœ¨Reverseçš„æƒ…å¢ƒç•¶ä¸­ï¼Œå¯¦éš›">
<meta property="og:type" content="article">
<meta property="og:title" content="CTFç³»åˆ—-Reverse Engineeringé€†å‘å·¥ç¨‹åŸºç¤I">
<meta property="og:url" content="http://albert-notes.github.io/2023/01/30/ctf-reverse-1/index.html">
<meta property="og:site_name" content="M3t30r">
<meta property="og:description" content="Reverseæ˜¯CTFç«¶è³½ä¸­ç®—æ˜¯ç›¸å°å›°é›£åº¦é«˜çš„ä¸€å€‹é¡åˆ¥ï¼ŒåŸºæ–¼å…¶æ¯”è¼ƒåå‘é›»è…¦åº•å±¤çš„éƒ¨åˆ†ï¼Œå› æ­¤ç›¸å°ä¸æœƒåƒä¹‹å‰çš„Webèˆ‡Cryptoé¡åˆ¥é‚£éº¼ç›´è¦ºï¼Œé™¤äº†äºŒé€²ä½æª”æ¡ˆçš„éœæ…‹èˆ‡å‹•æ…‹åˆ†æï¼Œçµ„åˆèªè¨€(assembly)ä¹Ÿæœƒæ˜¯å…¶ä¸­ä¸€å€‹é‡é»å­¸ç¿’çš„éƒ¨åˆ†ï¼Œå› æ­¤é€™è£¡ä¹Ÿæœƒå…ˆä»‹ç´¹ä¸€äº›éœ€è¦çŸ¥é“çš„çµ„åˆèªè¨€çŸ¥è­˜ã€‚æ­¡è¿å„ä½ä¾†è¨Šèªªæ˜æˆ–è£œå……ç­†è€…ä¸è¶³çš„éƒ¨åˆ†å–”!ğŸ¤— Basic Assemblyçµ„åˆèªè¨€æœƒå¤§é‡å‡ºç¾åœ¨Reverseçš„æƒ…å¢ƒç•¶ä¸­ï¼Œå¯¦éš›">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://albert-notes.github.io/img/mlw.jpg">
<meta property="article:published_time" content="2023-01-30T05:44:27.000Z">
<meta property="article:modified_time" content="2023-03-23T06:04:17.165Z">
<meta property="article:author" content="Albert Huang">
<meta property="article:tag" content="Security">
<meta property="article:tag" content="CTF">
<meta property="article:tag" content="Education">
<meta property="article:tag" content="Reverse Engineering">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://albert-notes.github.io/img/mlw.jpg"><link rel="shortcut icon" href="/img/fav.ico"><link rel="canonical" href="http://albert-notes.github.io/2023/01/30/ctf-reverse-1/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-23 14:04:17'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="M3t30r" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/alb.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">21</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">22</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/videos/"><i class="fa-fw fas fa-desktop"></i><span> Videos</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/certificates/"><i class="fa-fw fas fa-certificate"></i><span> Certificates</span></a></div><div class="menus_item"><a class="site-page" href="/resources/"><i class="fa-fw fas fa-lightbulb"></i><span> Resources</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-address-card"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/mlw.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">M3t30r</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/videos/"><i class="fa-fw fas fa-desktop"></i><span> Videos</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/certificates/"><i class="fa-fw fas fa-certificate"></i><span> Certificates</span></a></div><div class="menus_item"><a class="site-page" href="/resources/"><i class="fa-fw fas fa-lightbulb"></i><span> Resources</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-address-card"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">CTFç³»åˆ—-Reverse Engineeringé€†å‘å·¥ç¨‹åŸºç¤I</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-01-30T05:44:27.000Z" title="Created 2023-01-30 13:44:27">2023-01-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-03-23T06:04:17.165Z" title="Updated 2023-03-23 14:04:17">2023-03-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/CTF/">CTF</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">5.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>20min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="CTFç³»åˆ—-Reverse Engineeringé€†å‘å·¥ç¨‹åŸºç¤I"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>Reverseæ˜¯CTFç«¶è³½ä¸­ç®—æ˜¯ç›¸å°å›°é›£åº¦é«˜çš„ä¸€å€‹é¡åˆ¥ï¼ŒåŸºæ–¼å…¶æ¯”è¼ƒåå‘é›»è…¦åº•å±¤çš„éƒ¨åˆ†ï¼Œå› æ­¤ç›¸å°ä¸æœƒåƒä¹‹å‰çš„Webèˆ‡Cryptoé¡åˆ¥é‚£éº¼ç›´è¦ºï¼Œé™¤äº†äºŒé€²ä½æª”æ¡ˆçš„éœæ…‹èˆ‡å‹•æ…‹åˆ†æï¼Œçµ„åˆèªè¨€(assembly)ä¹Ÿæœƒæ˜¯å…¶ä¸­ä¸€å€‹é‡é»å­¸ç¿’çš„éƒ¨åˆ†ï¼Œå› æ­¤é€™è£¡ä¹Ÿæœƒå…ˆä»‹ç´¹ä¸€äº›éœ€è¦çŸ¥é“çš„çµ„åˆèªè¨€çŸ¥è­˜ã€‚æ­¡è¿å„ä½ä¾†è¨Šèªªæ˜æˆ–è£œå……ç­†è€…ä¸è¶³çš„éƒ¨åˆ†å–”!ğŸ¤—</p>
<h1 id="Basic-Assembly"><a href="#Basic-Assembly" class="headerlink" title="Basic Assembly"></a>Basic Assembly</h1><p>çµ„åˆèªè¨€æœƒå¤§é‡å‡ºç¾åœ¨Reverseçš„æƒ…å¢ƒç•¶ä¸­ï¼Œå¯¦éš›ç”Ÿæ´»ä¸­çš„é€†å‘å·¥ç¨‹ä¹Ÿæœƒéœ€è¦è®€çµ„åˆèªè¨€ä¾†åˆ¤æ–·ç¨‹å¼æµç¨‹ï¼Œå› æ­¤é€™è£¡æœƒå…ˆä»‹ç´¹çµ„åˆèªè¨€æ‰€éœ€è¦å…·å‚™çš„åŸºç¤èƒ½åŠ›ã€‚çµ„åˆèªè¨€æ˜¯ç‚ºäº†è§£æ±ºæŒ‡ä»¤é›†æ¥µä¸æ˜“è®€çš„ç‰¹æ€§è€Œç”¢ç”Ÿï¼Œä»¥é¡ä¼¼äººé¡èªè¨€çš„æ–¹å¼ä¾†æè¿°æŒ‡ä»¤é›†ã€‚äº‹å¯¦ä¸Šçµ„åˆèªè¨€å‡ºç¾å¾—æ¯”C/C++ç­‰é«˜éšèªè¨€æ›´æ—©ï¼Œå› æ­¤åˆ©ç”¨çµ„åˆèªè¨€ç·¨å¯«ç¨‹å¼ä¹Ÿæ˜¯å¯è¡Œçš„ã€‚</p>
<h2 id="x86-vs-ARM"><a href="#x86-vs-ARM" class="headerlink" title="x86 vs. ARM"></a>x86 vs. ARM</h2><p><strong>x86</strong>äº‹å¯¦ä¸Šæ³›æŒ‡ä¸€ç¾¤Intelå…¬å¸ç™¼è¡Œå‘ä¸‹ç›¸å®¹çš„æŒ‡ä»¤é›†è™•ç†å™¨ï¼ŒåŒ…å«<strong>Intel 8086ã€80186ã€80286ã€80386ã€80486</strong>ï¼ŒåŸå…ˆçš„ç¸®å¯«æ˜¯<strong>80x86</strong>ï¼Œå¾Œä¾†åŸºæ–¼æ–¹ä¾¿å› æ­¤ç›´æ¥å¯«æˆx86ã€‚å®ƒæ˜¯è¤‡é›œæŒ‡ä»¤é›†é›»è…¦(CISC)çš„ä»£è¡¨ï¼Œè€Œå¾ŒçºŒåˆåœ¨Intelå…¬å¸çš„æ¨è¡Œä¸‹å‡ºç¾äº†å¾32bitæ“´å……åˆ°64bitçš„AMD64ï¼Œä¹Ÿå¯ç¨±ç‚ºx86-64ã€‚ç›®å‰ä¸€èˆ¬é›»è…¦éƒ½æ˜¯æ¡ç”¨æ­¤ç¨®è™•ç†å™¨ã€‚</p>
<p>è€Œ<strong>ARM</strong>å‰‡å¯ä»¥è¢«èªç‚ºæ˜¯ç›¸å°æ–¼x86çš„å¦ä¸€ç¨®è™•ç†å™¨ï¼Œå› ç‚ºä»–æ‰€å±¬é›†åˆçš„æ˜¯IBMåœ¨1974å¹´æå‡ºçš„ç°¡åŒ–æŒ‡ä»¤é›†é›»è…¦(RISC)ï¼Œç›®çš„åœ¨æ–¼ç°¡åŒ–èˆ‡æ¸›å°‘æŒ‡ä»¤ã€‚åŸºæ–¼RISCæ‰€æ¶ˆè€—çš„è³‡æºè¼ƒå°‘ï¼Œæ•ˆç‡åˆè¼ƒé«˜ï¼Œå› æ­¤é€šå¸¸è¡Œå‹•è£ç½®ï¼ŒåŒ…å«iOSèˆ‡Androidéƒ½ä½¿ç”¨æ­¤é¡è™•ç†å™¨ã€‚è¿‘å¹´ä¾†å› ç‚ºCISCèˆ‡RISCçš„ç›¸äº’ç«¶çˆ­ï¼Œå…©è€…åœ¨æŒ‡ä»¤é›†æ¶æ§‹ä¸Šå·²ç¶“éå¸¸æ¥è¿‘ã€‚</p>
<p>æ­¤å¤–ï¼ŒCISCèˆ‡RISCåœ¨è™•ç†ä¸Šé‚„æœ‰ä¸€å€‹éå¸¸é‡è¦çš„ä¸åŒï¼Œåœ¨æ–¼<strong>RISCèƒ½å¤ å®Œå…¨ä½¿ç”¨æš«å­˜å™¨(registerï¼Œç¨å¾Œèªªæ˜)ä¾†å‚³éåƒæ•¸ï¼Œä½†CISCåƒ…èƒ½å°‡è³‡æ–™å„²å­˜åœ¨å †ç–Š(stack)ä¸Šå‚³é</strong>ã€‚</p>
<h2 id="Intel-vs-AT-amp-T-syntax"><a href="#Intel-vs-AT-amp-T-syntax" class="headerlink" title="Intel vs. AT&amp;T syntax"></a>Intel vs. AT&amp;T syntax</h2><p>é€™å…©è€…éƒ½æ˜¯x86/AMD64ä¹‹ä¸‹çš„èªæ³•é¢¨æ ¼ï¼Œè®€è€…èƒ½å¤ ä»¥è‡ªå·±å®¹æ˜“ç­è§£çš„æ–¹å‘ä¾†é¸æ“‡ï¼Œç­†è€…æœ¬äººè¼ƒå¸¸ä½¿ç”¨Intelé¢¨æ ¼ã€‚Intelé¢¨æ ¼æ˜¯è·Ÿè‘—ç¬¬ä¸€ä»£çš„Intelè™•ç†å™¨8086ç”¢ç”Ÿï¼Œä¸»è¦æ˜¯Intelå…¬å¸èªç‚ºä½¿ç”¨æ©Ÿå™¨ç¢¼å°äººé¡çš„å¯è®€æ€§æ¥µä½ï¼Œå…¶é¢¨æ ¼ä¸»è¦æœ‰16é€²ä½ä½¿ç”¨<code>h</code>çµå°¾ã€é–“æ¥ä½å€ä½¿ç”¨<code>[]</code>è¡¨ç¤ºç­‰ã€‚</p>
<p>è€ŒAT&amp;Tå…¬å¸å‰‡æ˜¯ç”±è²çˆ¾å¯¦é©—å®¤è€Œä¾†ï¼ŒåŸºæ–¼ä½œç‚ºCèˆ‡Linuxçš„ç™¼æºåœ°ï¼Œä»–å€‘æ±ºå®šä¸æ¡ç”¨Intelé¢¨æ ¼ï¼Œè‡ªå‰µä¸€å€‹AT&amp;Té¢¨æ ¼ã€‚é€™ç¨®é¢¨æ ¼åœ¨Linuxç³»çµ±ä¸­å»£ç‚ºä½¿ç”¨ï¼ŒåŒ…å«gdbã€objdumpç­‰å·¥å…·éƒ½é è¨­æ¡ç”¨AT&amp;Té¢¨æ ¼ï¼Œå…¶é¢¨æ ¼ä¸»è¦æœ‰æš«å­˜å™¨å‰æœ‰<code>%</code>ç¬¦è™Ÿã€16é€²ä½ä½¿ç”¨<code>0x</code>é–‹é ­ã€é–“æ¥ä½å€ä½¿ç”¨<code>()</code>è¡¨ç¤ºç­‰ã€‚è©³ç´°è¼ƒé‡è¦å·®ç•°å¯åƒè€ƒ<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-tw/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80">ä»¥ä¸‹è¡¨æ ¼</a>ï¼š</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Intel</th>
<th align="center">AT&amp;T</th>
</tr>
</thead>
<tbody><tr>
<td align="center">é‹ç®—å…ƒ(Operant)é †åº</td>
<td align="center">ç›®æ¨™é‹ç®—å…ƒåœ¨å‰</td>
<td align="center">ä¾†æºé‹ç®—å…ƒåœ¨å‰</td>
</tr>
<tr>
<td align="center">Register</td>
<td align="center">ä¸è®Š</td>
<td align="center"><code>%</code>å­—é¦–</td>
</tr>
<tr>
<td align="center">ç«‹å³æ•¸</td>
<td align="center">ä¸è®Š</td>
<td align="center"><code>$</code>å­—é¦–</td>
</tr>
<tr>
<td align="center">16é€²ä½ç«‹å³æ•¸</td>
<td align="center">å­—å°¾åŠ ä¸Š<code>h</code></td>
<td align="center">å­—é¦–åŠ ä¸Š<code>0x</code></td>
</tr>
<tr>
<td align="center">è¨˜æ†¶é«”é•·åº¦å­˜å–</td>
<td align="center"><strong>BYTE PTRã€WORD PTRã€DWORD PTRã€QWORD PTR</strong>é–‹é ­åˆ†åˆ¥ä»£è¡¨<strong>ä½å…ƒçµ„(8bitï¼Œchar)ã€å­—(16bitï¼Œshort)ã€é›™å­—(32bitï¼Œint)ã€å››å­—(64bitï¼Œlong)</strong></td>
<td align="center"><strong>bã€wã€lã€q</strong>çµå°¾åˆ†åˆ¥ä»£è¡¨<strong>ä½å…ƒçµ„(8bitï¼Œchar)ã€å­—(16bitï¼Œshort)ã€é›™å­—(32bitï¼Œint)ã€å››å­—(64bitï¼Œlong)</strong></td>
</tr>
<tr>
<td align="center">è®Šæ•¸å–å€¼</td>
<td align="center"><code>[var]</code></td>
<td align="center"><code>var</code></td>
</tr>
<tr>
<td align="center">è®Šæ•¸å–ä½å€</td>
<td align="center"><code>var</code></td>
<td align="center"><code>$var</code></td>
</tr>
</tbody></table>
<p>ä»¥ä¸‹æ˜¯ä¸€å€‹ç›¸åŒæª”æ¡ˆ<code>hello.c</code>åˆ©ç”¨å…©ç¨®èªæ³•é¢¨æ ¼ç”¢ç”Ÿçš„<code>main</code>å‡½æ•¸çµ„åˆèªè¨€ï¼Œå¯æ¯”è¼ƒå…¶ä¸­å·®ç•°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//Intel</span><br><span class="line">0000000000001149 &lt;main&gt;:</span><br><span class="line">    1149:       f3 0f 1e fa             endbr64</span><br><span class="line">    114d:       55                      push   rbp</span><br><span class="line">    114e:       48 89 e5                mov    rbp,rsp</span><br><span class="line">    1151:       48 8d 3d ac 0e 00 00    lea    rdi,[rip+0xeac]        # 2004 &lt;_IO_stdin_used+0x4&gt;</span><br><span class="line">    1158:       e8 f3 fe ff ff          call   1050 &lt;puts@plt&gt;</span><br><span class="line">    115d:       b8 00 00 00 00          mov    eax,0x0</span><br><span class="line">    1162:       5d                      pop    rbp</span><br><span class="line">    1163:       c3                      ret</span><br><span class="line">    1164:       66 2e 0f 1f 84 00 00    nop    WORD PTR cs:[rax+rax*1+0x0]</span><br><span class="line">    116b:       00 00 00</span><br><span class="line">    116e:       66 90                   xchg   ax,ax</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//AT&amp;T</span><br><span class="line">0000000000001149 &lt;main&gt;:</span><br><span class="line">    1149:       f3 0f 1e fa             endbr64</span><br><span class="line">    114d:       55                      push   %rbp</span><br><span class="line">    114e:       48 89 e5                mov    %rsp,%rbp</span><br><span class="line">    1151:       48 8d 3d ac 0e 00 00    lea    0xeac(%rip),%rdi        # 2004 &lt;_IO_stdin_used+0x4&gt;</span><br><span class="line">    1158:       e8 f3 fe ff ff          callq  1050 &lt;puts@plt&gt;</span><br><span class="line">    115d:       b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">    1162:       5d                      pop    %rbp</span><br><span class="line">    1163:       c3                      retq</span><br><span class="line">    1164:       66 2e 0f 1f 84 00 00    nopw   %cs:0x0(%rax,%rax,1)</span><br><span class="line">    116b:       00 00 00</span><br><span class="line">    116e:       66 90                   xchg   %ax,%ax</span><br></pre></td></tr></table></figure>

<h2 id="Registers"><a href="#Registers" class="headerlink" title="Registers"></a>Registers</h2><p>é€šç”¨æš«å­˜å™¨æ ¹æ“šä½å…ƒæ•¸çš„ä¸åŒï¼Œä¹Ÿæœƒæœ‰ä¸åŒçš„è®ŠåŒ–ï¼Œå¦‚<a target="_blank" rel="noopener" href="https://www.cs.uaf.edu/2017/fall/cs301/lecture/09_11_registers.html">ä¸‹è¡¨</a>æ‰€ç¤ºï¼š</p>
<p><img src="https://i.imgur.com/u7GXzq3.png"></p>
<p>å…¶ä¸­ä¸åŒä½å…ƒä¸‹æ‰€å ç”¨çš„ä½ç½®å¦‚ä¸‹æ‰€ç¤ºï¼Œåœ¨æ­¤ä»¥RAXä½œç‚ºç¯„ä¾‹ï¼š</p>
<p><img src="https://i.imgur.com/l7Tbfub.png"></p>
<p>ä¸€äº›æ¯”è¼ƒç‰¹åˆ¥çš„æš«å­˜å™¨å¦‚ä¸‹ï¼Œé€™äº›æ–¹æ³•æ˜¯ç”±Intelæ‰€å®šç¾©çš„æš«å­˜å™¨<strong>å‚³çµ±</strong>ï¼š</p>
<ul>
<li><code>rax</code>ï¼šé è¨­å­˜æ”¾å‡½å¼æˆ–æ•¸å­¸é‹ç®—çš„å›å‚³å€¼</li>
<li>stack operation<ul>
<li><code>rsp</code>ï¼šstack pointerï¼ŒæŒ‡å‘å †ç–Šçš„é ‚ç«¯(top)</li>
<li><code>rbp</code>ï¼šbase pointerï¼ŒæŒ‡å‘å †ç–Šçš„åº•éƒ¨(bottom)</li>
<li><code>rip</code>ï¼šinstruction pointerï¼Œæœƒå­˜æ”¾æ¥ä¸‹ä¾†ç¨‹å¼è¦è·³è½‰çš„ä½å€</li>
</ul>
</li>
<li>string operation<ul>
<li><code>rsi</code>ï¼šsourceï¼Œé€šå¸¸ç”¨æ–¼å­—ä¸²è™•ç†ï¼Œå­˜æ”¾ä¾†æºå­—ä¸²çš„ä½å€</li>
<li><code>rdi</code>ï¼šdestinationï¼Œé€šå¸¸ç”¨æ–¼å­—ä¸²è™•ç†ï¼Œå­˜æ”¾ç›®çš„åœ°å­—ä¸²çš„ä½å€</li>
<li><code>rcx</code>ï¼šcounterï¼Œloopæˆ–å…¶ä»–å‡½æ•¸çš„è¨ˆæ•¸å™¨</li>
</ul>
</li>
</ul>
<h2 id="Statements"><a href="#Statements" class="headerlink" title="Statements"></a>Statements</h2><p>çµ„åˆèªè¨€æœ‰ä¸€äº›è‡ªå·±ç‰¹å®šçš„æŒ‡ä»¤ä¾†å°æš«å­˜å™¨é€²è¡Œè™•ç†ï¼Œä»¥ä¸‹æœƒé€ä¸€èªªæ˜ã€‚</p>
<h3 id="MOV-move"><a href="#MOV-move" class="headerlink" title="MOV (move)"></a>MOV (move)</h3><p>MOVæ˜¯æœ€å¸¸ç”¨æ–¼çµ„åˆèªè¨€çš„æŒ‡ä»¤ä¹‹ä¸€ï¼Œç”¨æ–¼è®Šæ•¸è³¦å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œå¾Œæ–¹ç‚ºè½‰æ›æˆè¼ƒæ˜“ç†è§£çš„å½¢å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mov eax, ecx             ; eax = ecx</span><br><span class="line">mov eax, 0x12345678      ; eax = 0x12345678</span><br><span class="line">mov qword ptr [rdi], rax ; *(rdi) = rax</span><br></pre></td></tr></table></figure>

<div class="note success flat"><p><code>mov</code>å·²è¢«è­‰æ˜ç†è«–ä¸Šæ˜¯åœ–éˆå®Œå‚™çš„ï¼Œå› æ­¤å¯ä»¥å®Œå…¨ä»¥<code>mov</code>å®Œæˆä¸€å€‹ç¨‹å¼ã€‚<br>P.S. ä½†å¾ˆå°‘äººæœƒåšé‚£éº¼ç„¡èŠçš„äº‹æƒ…ï¼Œåˆå¾ˆé›£è®€XD</p>
</div>

<h3 id="ADD-add"><a href="#ADD-add" class="headerlink" title="ADD (add)"></a>ADD (add)</h3><p>ADDæ˜¯ç›¸åŠ æŒ‡ä»¤ï¼Œæœƒå°‡ç›¸åŒé•·åº¦çš„é‹ç®—å…ƒé€²è¡Œç›¸åŠ æ“ä½œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mov eax, 0x100 ; eax = 0x100</span><br><span class="line">add eax, 0x300 ; eax += 0x300</span><br><span class="line">; eax = 0x400</span><br></pre></td></tr></table></figure>

<h3 id="SUB-subtract"><a href="#SUB-subtract" class="headerlink" title="SUB (subtract)"></a>SUB (subtract)</h3><p>SUBèˆ‡ADDç›¸åï¼Œä½œç‚ºç›¸æ¸›æŒ‡ä»¤ï¼Œæœƒå°‡ç›¸åŒé•·åº¦çš„é‹ç®—å…ƒé€²è¡Œç›¸æ¸›æ“ä½œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mov eax, 0x300 ; eax = 0x300</span><br><span class="line">sub eax, 0x200 ; eax -= 0x200</span><br><span class="line">; eax = 0x100</span><br></pre></td></tr></table></figure>

<h3 id="MUL-multiplicate-amp-DIV-divide"><a href="#MUL-multiplicate-amp-DIV-divide" class="headerlink" title="MUL (multiplicate) &amp; DIV (divide)"></a>MUL (multiplicate) &amp; DIV (divide)</h3><p>MULæ˜¯ä¹˜æ³•æŒ‡ä»¤ï¼ŒDIVå‰‡æ˜¯é™¤æ³•æŒ‡ä»¤ï¼Œé€™å…©é …æŒ‡ä»¤æ‰€ç”¢ç”Ÿçš„å›å‚³å€¼é è¨­æœƒå­˜å›åˆ°<code>rax</code>æš«å­˜å™¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mov eax, 0x900 ; eax = 0x900</span><br><span class="line">mul eax, 0x64  ; eax *= 0x64</span><br><span class="line">; eax = 0x38400</span><br><span class="line">div eax, 0x120 ; eax /= 0x120</span><br><span class="line">; eax = 0x320</span><br></pre></td></tr></table></figure>

<h3 id="JMP-jump-amp-LOOP-loop"><a href="#JMP-jump-amp-LOOP-loop" class="headerlink" title="JMP (jump) &amp; LOOP (loop)"></a>JMP (jump) &amp; LOOP (loop)</h3><p>JMPæ˜¯è·³èºæŒ‡ä»¤ï¼Œè·³èºåˆ†ç‚ºç„¡æ¢ä»¶è·³èºèˆ‡æ¢ä»¶è·³èºï¼Œç„¡æ¢ä»¶è·³èºç‚ºç„¡è«–æš«å­˜å™¨ç‚ºä½•å€¼ä¸€å¾‹è·³èºï¼Œè€Œæ¢ä»¶è·³èºå‰‡æœƒåˆ©ç”¨cmpç­‰æŒ‡ä»¤ä¾†ç¢ºå®šæš«å­˜å™¨çš„å€¼å¾Œï¼Œå†æ ¹æ“šæ¢ä»¶æ±ºå®šè¦è·³èºåˆ°ä½•è™•ã€‚JMPæœ¬èº«æ˜¯ç„¡æ¢ä»¶è·³èºæŒ‡ä»¤ï¼Œå–®ç¨é‡åˆ°JMPæœƒç›´æ¥è·³èºåˆ°æŒ‡å®šçš„ä½ç½®ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmp 0x400136 ; call 0x400136</span><br></pre></td></tr></table></figure>

<p>æˆ‘å€‘ä¹Ÿèƒ½ä½¿ç”¨JMPå‰µé€ LOOPè¿´åœˆçš„åŠŸèƒ½ï¼Œä½†éœ€è¦ä½¿ç”¨å…¶ä»–æ–¹å¼é€€å‡ºï¼Œå¦å‰‡åƒ…ä½¿ç”¨JMPå°‡æœƒè£½é€ ç„¡çª®è¿´åœˆã€‚</p>
<p>è€ŒLOOPæŒ‡ä»¤å‰‡æ˜¯æ­£è¦ç”¨ä¾†å‰µå»ºè¿´åœˆçš„æŒ‡ä»¤ï¼Œå…¶ä¸­å‰é¢æåˆ°<code>cx</code>å°‡æœƒæ˜¯å…¶ä¹‹è¨ˆæ•¸å™¨ï¼Œå…ˆå°‡<code>cx</code>è¨­ç‚ºè¿´åœˆåŸ·è¡Œçš„æ¬¡æ•¸å¾Œï¼Œæ¯åŸ·è¡Œä¸€æ¬¡è¿´åœˆï¼Œä¸€é–‹å§‹<code>cx</code>å³æœƒæ¸›ä¸€ï¼Œä¸¦èˆ‡<code>0</code>é€²è¡Œ<code>cmp</code>ï¼Œè‹¥<code>cx</code>ç‚ºé›¶å‰‡ä¸è·³èºï¼Œå¦å‰‡è·³åˆ°æŒ‡å®šçš„åœ°æ–¹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‹¥ä¸€é–‹å§‹å°‡<code>cx</code>çš„å€¼è¨­ç‚º<code>0</code>ï¼Œå‰‡æ¸›ä¸€å¾Œç™¼ç”Ÿæº¢ä½(overflow)æœƒæˆç‚º<code>0xFFFFFFFF</code>ï¼Œæœƒä½¿è¿´åœˆä¸ä¾ç…§åŸå§‹çš„ç‹€æ³è·‘ï¼Œå¿…é ˆç‰¹åˆ¥ç•™æ„ã€‚ä½¿ç”¨æƒ…æ³å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mov ax, 0x0  ; ax = 0x0</span><br><span class="line">mov ecx, 0xa ; ecx = 0xa</span><br><span class="line">L1:</span><br><span class="line">inc ax       ; ax++</span><br><span class="line">loop L1      ; loop</span><br><span class="line">; ax = 0xa</span><br></pre></td></tr></table></figure>

<p>è‡³æ–¼æœ‰æ¢ä»¶è·³èºæŒ‡ä»¤å¯å°±å¤šäº†ï¼Œä¾ç…§ä¸åŒçš„æš«å­˜å™¨æ¯”è¼ƒæœƒæœ‰ä¸åŒçš„çµæœï¼Œä»¥ä¸‹è¡¨æ ¼åˆ—å‡ºäº†æ‰€æœ‰å¯èƒ½çš„JMPç›¸é—œæŒ‡ä»¤ï¼š</p>
<p><img src="https://i.imgur.com/slk1DPY.png"></p>
<h2 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h2><p>Stackæ˜¯è¨˜æ†¶é«”ä¸­ä¸€æ®µç¢ºå®šçš„å€åŸŸ(é€™éƒ¨åˆ†åœ¨pwnæœƒä»‹ç´¹è¼ƒå¤šï¼Œé€™è£¡å…ˆç°¡å–®èªªæ˜)ï¼Œå †ç–Šæœ‰åˆ†ç‚ºé«˜ä½å€(high memory address)èˆ‡ä½ä½å€(low memory address)ï¼Œåœ¨ç¨‹å¼åŸ·è¡Œæ™‚å †ç–Šçš„è³‡æ–™æœƒç”±é«˜ä½å€å¾€ä½ä½å€å †ç–Šï¼Œç”±ä¸Šå¾€ä¸‹å †çš„å‹æ…‹èˆ‡ä¸€èˆ¬èªå®šçš„å †ç–Šæ¦‚å¿µä¸å¤ªç›¸åŒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://i.imgur.com/AlRCVls.png"></p>
<p>è€Œstackä¸­æœ€å¸¸ä½¿ç”¨åˆ°çš„æŒ‡ä»¤ä¾¿æ˜¯<code>push</code>èˆ‡<code>pop</code>äº†ï¼Œ<code>push</code>æœƒå°‡è³‡æ–™æ¨é€²å †ç–Šï¼Œ<code>pop</code>å‰‡æœƒå°‡stackæœ€ä¸Šå±¤çš„è³‡æ–™å¾å †ç–Šä¸­ç§»å‡ºã€‚è€Œè² è²¬æ§ç®¡ä»–å€‘çš„æš«å­˜å™¨æœ‰ä¸‰å€‹ï¼Œä»¥64ä½å…ƒè€Œè¨€æœ‰<code>rsp</code>ã€<code>rbp</code>åŠ<code>rip</code>ï¼Œå‰é¢æœ‰æé<code>rsp</code>æœƒæŒ‡å‘ç›®å‰å †ç–Šçš„é ‚ç«¯ï¼Œ<code>rbp</code>æœƒæŒ‡å‘åº•ç«¯ï¼Œè€Œ<code>rip</code>å‰‡æœƒæŒ‡å‘ç›®å‰åŸ·è¡Œåˆ°ç¨‹å¼çš„ä½å€ï¼Œä¸¦åœ¨å¤–éƒ¨å‡½æ•¸æº–å‚™è·³å›åŸæœ¬å‡½æ•¸æ™‚ï¼Œå°‡å­˜åœ¨å †ç–Šä¸Šçš„ä½å€å¥—ç”¨åˆ°è‡ªå·±èº«ä¸Šï¼Œå®Œæˆè·³å›ç¹¼çºŒåŸ·è¡Œçš„å‹•ä½œ(pwnéƒ¨åˆ†è§£é‡‹)ã€‚</p>
<div class="note warning flat"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">endbr64</span><br><span class="line">push   rbp</span><br><span class="line">mov    rbp,rsp</span><br></pre></td></tr></table></figure>
<p>çµ„åˆèªè¨€åœ¨å‡½å¼çš„é–‹å§‹é€šå¸¸æœƒæœ‰é€™æ¨£åˆå§‹åŒ–çš„å‹•ä½œï¼Œæœƒå°‡<code>rsp</code>èˆ‡<code>rbp</code>éƒ½å…ˆé‚„åŸåˆ°åŒä¸€å€‹ä½ç½®ï¼Œæ¥è‘—<code>rsp</code>æŒçºŒä¸Šé•·ï¼Œ<code>rbp</code>å‰‡ç•™åœ¨åŸè™•ï¼Œæ¡†å‡ºç›®å‰æ­£åœ¨è™•ç†çš„stackå€åŸŸã€‚</p>
</div>

<h2 id="çµ±æ•´"><a href="#çµ±æ•´" class="headerlink" title="çµ±æ•´"></a>çµ±æ•´</h2><p>çµ„åˆèªè¨€æ ¹æ“šä¸åŒçš„éœ€æ±‚é‚„æœ‰è¨±å¤šä¸åŒçš„ç›¸é—œæŒ‡ä»¤ï¼Œä½†å› ç‚ºä¸å¤ªæœƒå‡ºç¾åœ¨CTFä¸­ï¼Œå°±ä¸åœ¨é€™è£¡å¤šä»‹ç´¹ï¼Œæƒ³è¦åƒè€ƒæ›´å¤šçš„è®€è€…å¯ä»¥æ ¹æ“šéœ€æ±‚å°‹æ‰¾ä¸åŒåŠŸèƒ½çš„æŒ‡ä»¤ä¾†é€²è¡Œä½¿ç”¨ã€‚æƒ³è¦ç›´æ¥è®€æ‡‚çµ„åˆèªè¨€éœ€è¦é•·ä¹…çš„ç·´ç¿’èˆ‡ç²¾ç†Ÿåº¦ï¼Œå› æ­¤é€™å€‹éƒ¨åˆ†è«‹å‹™å¿…å¥½å¥½å¼„æ‡‚!</p>
<h1 id="äºŒé€²ä½æª”æ¡ˆ-Binary"><a href="#äºŒé€²ä½æª”æ¡ˆ-Binary" class="headerlink" title="äºŒé€²ä½æª”æ¡ˆ(Binary)"></a>äºŒé€²ä½æª”æ¡ˆ(Binary)</h1><p>äºŒé€²ä½æª”æ¡ˆé€šå¸¸æœƒè¢«ç¨±ç‚ºbinaryï¼Œé€šæŒ‡åŒ…å«ASCIIåŠæ“´å……ASCIIå­—å…ƒä¸­ç·¨å¯«è³‡æ–™æˆ–ç¨‹å¼æŒ‡ä»¤(instructions)çš„æª”æ¡ˆï¼Œé€™è£¡ä»¥Linuxç³»çµ±å…§æœ€å¸¸è¦‹çš„<code>.elf</code>æª”æ¡ˆï¼Œæ­é…é è¨­ç·¨è­¯å™¨<code>gcc</code>æŒ‡ä»¤ä¾†é€²è¡Œèªªæ˜ã€‚ä¸€èˆ¬è€Œè¨€ç·¨è­¯çš„éç¨‹åŒ…å«å…­å¤§æ­¥é©Ÿï¼š**åŸå§‹ç¢¼(source code)ã€é è™•ç†å™¨(preprocessor)ã€ç·¨è­¯å™¨(compiler)ã€çµ„è­¯å™¨(assembler)ã€é€£çµå™¨(linker)ä»¥åŠå¯åŸ·è¡Œæª”(executable)**ã€‚ä»¥ä¸‹ä»¥ä¸€å€‹å¯¦éš›çš„æ¡ˆä¾‹ä¾†å¯¦ä½œï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//hello.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello, World!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°‡å…¶åˆ©ç”¨<code>gcc</code>æŒ‡ä»¤ç·¨è­¯ï¼ŒæŒ‡ä»¤å¦‚ä¸‹ï¼Œå…¶ä¸­<code>-save-temps</code>æœƒå°‡ç·¨è­¯éç¨‹ä¸­çš„ä¸­é–“æª”æ¡ˆä¿å­˜ï¼Œ<code>--verbose</code>èƒ½å¤ çœ‹åˆ°è©³ç´°è³‡è¨Šï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ gcc hello.c -o hello -save-temps --verbose</span><br><span class="line">...</span><br><span class="line"> /usr/lib/gcc/x86_64-linux-gnu/9/cc1 -E -quiet -v -imultiarch x86_64-linux-gnu hello.c -mtune=generic -march=x86-64 -fpch-preprocess -fasynchronous-unwind-tables -fstack-protector-strong -Wformat -Wformat-security -fstack-clash-protection -fcf-protection -o hello.i</span><br><span class="line">...</span><br><span class="line"> /usr/lib/gcc/x86_64-linux-gnu/9/cc1 -fpreprocessed hello.i -quiet -dumpbase hello.c -mtune=generic -march=x86-64 -auxbase hello -version -fasynchronous-unwind-tables -fstack-protector-strong -Wformat -Wformat-security -fstack-clash-protection -fcf-protection -o hello.s</span><br><span class="line">...</span><br><span class="line"> as -v --64 -o hello.o hello.s</span><br><span class="line">...</span><br><span class="line"> /usr/lib/gcc/x86_64-linux-gnu/9/collect2 -plugin /usr/lib/gcc/x86_64-linux-gnu/9/liblto_plugin.so -plugin-opt=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper -plugin-opt=-fresolution=hello.res -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s -plugin-opt=-pass-through=-lc -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s --build-id --eh-frame-hdr -m elf_x86_64 --hash-style=gnu --as-needed -dynamic-linker /lib64/ld-linux-x86-64.so.2 -pie -z now -z relro -o hello /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/Scrt1.o /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/crti.o /usr/lib/gcc/x86_64-linux-gnu/9/crtbeginS.o -L/usr/lib/gcc/x86_64-linux-gnu/9 -L/usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu -L/usr/lib/gcc/x86_64-linux-gnu/9/../../../../lib -L/lib/x86_64-linux-gnu -L/lib/../lib -L/usr/lib/x86_64-linux-gnu -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-linux-gnu/9/../../.. hello.o -lgcc --push-state --as-needed -lgcc_s --pop-state -lc -lgcc --push-state --as-needed -lgcc_s --pop-state /usr/lib/gcc/x86_64-linux-gnu/9/crtendS.o /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/crtn.o</span><br><span class="line">...</span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">hello hello.c hello.i hello.o hello.s</span><br><span class="line">$ ./hello</span><br><span class="line">Hello, World!</span><br></pre></td></tr></table></figure>

<h2 id="Preprocessor"><a href="#Preprocessor" class="headerlink" title="Preprocessor"></a>Preprocessor</h2><p>å…¶ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ<code>hello.c</code>å…ˆè¢«preprocessorè™•ç†æˆ<code>hello.i</code>ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹<code>hello.i</code>çš„å…§å®¹ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># <span class="number">1</span> <span class="string">&quot;hello.c&quot;</span></span><br><span class="line"># <span class="number">1</span> <span class="string">&quot;&lt;built-in&gt;&quot;</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> __u_char;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">short</span> <span class="type">int</span> __u_short;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> __u_int;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> __u_long;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">signed</span> <span class="type">char</span> <span class="type">__int8_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> <span class="type">__uint8_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">signed</span> <span class="type">short</span> <span class="type">int</span> <span class="type">__int16_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">short</span> <span class="type">int</span> <span class="type">__uint16_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">signed</span> <span class="type">int</span> <span class="type">__int32_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> <span class="type">__uint32_t</span>;</span><br><span class="line">...</span><br><span class="line"># <span class="number">2</span> <span class="string">&quot;hello.c&quot;</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello, World!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€™å€‹æ­¥é©Ÿå¯ä»¥ç”±å–®ä¸€æŒ‡ä»¤å®Œæˆï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -E hello.c -o hello.i</span><br></pre></td></tr></table></figure>

<p>æˆ‘å€‘å¯ä»¥çœ‹åˆ°ï¼ŒåŸå…ˆçš„<code>hello.c</code>é‹ç”¨åˆ°çš„å‡½å¼éƒ½å…ˆè¢«é‚„åŸæˆæœ€åŸå§‹çš„å®šç¾©å¼ï¼ŒåŒ…å«<code>#include</code>çš„ä¸‹æ¸¸å…§å®¹ä¹Ÿæœƒè¢«è¼‰å…¥åˆ°ç¨‹å¼ä¸­ï¼Œå½¢æˆä¸€å€‹ç›¸å°å†—é•·çš„åŸå§‹ç¢¼å‹æ…‹ï¼Œç›®çš„æ˜¯åœ¨æ¥ä¸‹ä¾†çš„è™•ç†ä¸­è™•ç†å™¨èƒ½å¤ æ›´è¼•æ˜“çš„å­˜å–åˆ°éœ€è¦çš„å¤–éƒ¨æª”æ¡ˆèˆ‡å„ç¨®å®šç¾©ã€‚</p>
<h2 id="Compiler"><a href="#Compiler" class="headerlink" title="Compiler"></a>Compiler</h2><p>æ¥è‘—æˆ‘å€‘çœ‹çœ‹ç·¨è­¯(compile)çš„éšæ®µï¼Œå°æ‡‰è¼¸å‡ºæª”æ¡ˆæ˜¯<code>hello.s</code>ã€‚ç”¢ç”Ÿæ˜“è®€æª”æ¡ˆæŒ‡ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -S hello.c -o hello.s -masm=intel -fno-asynchronous-unwind-tables</span><br></pre></td></tr></table></figure>

<p>å°‡çµ„åˆèªè¨€çš„å…§å®¹å°å‡ºçœ‹çœ‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">        .file   &quot;hello.c&quot;</span><br><span class="line">        .intel_syntax noprefix</span><br><span class="line">        .text</span><br><span class="line">        .section        .rodata</span><br><span class="line">.LC0:</span><br><span class="line">        .string &quot;Hello, World!&quot;</span><br><span class="line">        .text</span><br><span class="line">        .globl  main</span><br><span class="line">        .type   main, @function</span><br><span class="line">main:</span><br><span class="line">        endbr64</span><br><span class="line">        push    rbp</span><br><span class="line">        mov     rbp, rsp</span><br><span class="line">        lea     rdi, .LC0[rip]</span><br><span class="line">        call    puts@PLT</span><br><span class="line">        mov     eax, 0</span><br><span class="line">        pop     rbp</span><br><span class="line">        ret</span><br><span class="line">        .size   main, .-main</span><br><span class="line">        .ident  &quot;GCC: (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0&quot;</span><br><span class="line">        .section        .note.GNU-stack,&quot;&quot;,@progbits</span><br><span class="line">        .section        .note.gnu.property,&quot;a&quot;</span><br><span class="line">        .align 8</span><br><span class="line">        .long    1f - 0f</span><br><span class="line">        .long    4f - 1f</span><br><span class="line">        .long    5</span><br><span class="line">0:</span><br><span class="line">        .string  &quot;GNU&quot;</span><br><span class="line">1:</span><br><span class="line">        .align 8</span><br><span class="line">        .long    0xc0000002</span><br><span class="line">        .long    3f - 2f</span><br><span class="line">2:</span><br><span class="line">        .long    0x3</span><br><span class="line">3:</span><br><span class="line">        .align 8</span><br><span class="line">4:</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç™¼ç¾åŸæœ¬çš„Cèªè¨€å·²ç¶“æ¶ˆå¤±ï¼Œè®Šæˆäº†çµ„åˆèªè¨€ã€‚å¾<code>main</code>å‡½æ•¸çš„åœ°æ–¹å¯ä»¥æ˜é¡¯çš„çœ‹å‡ºï¼Œé™¤äº†ä¸€äº›é¡å¤–çš„å°è¨­å®šä¹‹å¤–ï¼Œç¨‹å¼å…ˆå»<code>LC0</code>çš„åœ°æ–¹å–å‡º<code>&quot;Hello World!&quot;</code>å­—ä¸²ï¼Œå†å¾å‘¼å«å¤–éƒ¨.PLTè¡¨(pwnä¸­æ¸…æ¥šèªªæ˜)ä¸­çš„<code>puts()</code>å‡½æ•¸è¼¸å‡º<code>&quot;Hello World!&quot;</code>ï¼Œåˆ©ç”¨ç›´æ¥è®€çµ„åˆèªè¨€çš„æ–¹å¼ä¾¿èƒ½è¼•é¬†çš„é‡æ¸…é€™é¡ç°¡å–®ç¨‹å¼çš„é‚è¼¯ï¼Œé€™åœ¨ä¹‹å¾Œçš„Reverseé¡Œç›®ä¸­æ˜¯éå¸¸é‡è¦çš„æŠ€èƒ½ã€‚</p>
<h2 id="Assembler"><a href="#Assembler" class="headerlink" title="Assembler"></a>Assembler</h2><p>æ¥è‘—é€²å…¥åˆ°äº†ç›®çš„ç¢¼çš„éƒ¨åˆ†ï¼Œ<code>hello.s</code>è¢«çµ„è­¯å™¨çµ„è­¯æˆäº†<code>hello.o</code>ï¼Œçœ‹çœ‹è£¡é¢å¯«äº†äº›ä»€éº¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc -c hello.c -o hello.o</span><br><span class="line">gcc -c hello.s -o hello.o</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ï¿½ï¿½UHï¿½ï¿½Hï¿½=ï¿½ï¿½]ï¿½Hello, World!GCC: (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0GNUï¿½zRx</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                                                                                      </span><br><span class="line">R</span><br><span class="line"> ï¿½ï¿½       ello.cmain_GLOBAL_OFFSET_TABLE_puts</span><br><span class="line">                                                               ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½</span><br><span class="line">                                                                           ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ .symtab.strtab.shstrtab.rela.text.                                                                                                                     .data.bss.rodata.comment.note.GNU-stack.note.gnu.property.rela.eh_frame @X0</span><br><span class="line">                                                                               &amp;[[1[90i,Bï¿½Rï¿½jï¿½e@ï¿½</span><br><span class="line">                                                                                                                      ï¿½8</span><br><span class="line"></span><br><span class="line">       ()ï¿½t</span><br></pre></td></tr></table></figure>
<p>æ­¤æ™‚çš„<code>hello.s</code>å·²ç¶“è¢«è™•ç†æˆäº†ä¸€å€‹å¯é‡å®šä½æª”æ¡ˆ(Relocatable File)<code>hello.o</code>ï¼Œå› æ­¤å·²ç¶“ååˆ†æ¥è¿‘å¯åŸ·è¡Œæª”äº†ã€‚æˆ‘å€‘åˆ©ç”¨<code>objdump</code>çœ‹çœ‹è£¡é¢çš„ç¨‹å¼å‹æ…‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ objdump -M intel -d hello.o</span><br><span class="line"></span><br><span class="line">hello.o:     file format elf64-x86-64</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disassembly of section .text:</span><br><span class="line"></span><br><span class="line">0000000000000000 &lt;main&gt;:</span><br><span class="line">   0:   f3 0f 1e fa             endbr64</span><br><span class="line">   4:   55                      push   rbp</span><br><span class="line">   5:   48 89 e5                mov    rbp,rsp</span><br><span class="line">   8:   48 8d 3d 00 00 00 00    lea    rdi,[rip+0x0]        # f &lt;main+0xf&gt;</span><br><span class="line">   f:   e8 00 00 00 00          call   14 &lt;main+0x14&gt;</span><br><span class="line">  14:   b8 00 00 00 00          mov    eax,0x0</span><br><span class="line">  19:   5d                      pop    rbp</span><br><span class="line">  1a:   c3                      ret</span><br></pre></td></tr></table></figure>

<p>å› ç‚ºé‚„æ²’é€²è¡Œé€£çµ(link)ï¼Œå› æ­¤<code>main</code>å‡½æ•¸ä¸­çš„ä½å€ä»èˆŠæ˜¯ç›¸å°çš„ï¼Œç¨‹å¼è‡ªå‹•åˆ©ç”¨<code>0x000000</code>ä½œç‚ºbase addressï¼Œå‘ˆç¾ç›¸å°ä½å€çš„å‹æ…‹ï¼ŒåŒæ™‚å¤–ç•Œçš„GOTè¡¨ã€PLTè¡¨ç­‰éƒ½å°šæœªé€²è¡Œé€£çµï¼Œå› æ­¤åœ¨å‘¼å«<code>puts()</code>æ™‚æœƒè¢«è¨­å®šç‚ºä¸‹ä¸€è¡Œçš„ä½å€<code>0x14</code>ã€‚å› ç‚ºè³‡è¨Šä¸å®Œæ•´çš„ç·£æ•…ï¼Œç¾åœ¨çš„<code>hello.o</code>æ˜¯æ²’æœ‰è¾¦æ³•è·‘èµ·ä¾†çš„ã€‚</p>
<h2 id="Executable"><a href="#Executable" class="headerlink" title="Executable"></a>Executable</h2><p>çµ‚æ–¼é€²è¡Œåˆ°äº†æœ€å¾Œä¸€æ­¥ï¼Œæˆ‘å€‘è¦å°‡<code>hello.o</code>é€²è¡Œå¤–éƒ¨é€£çµï¼Œç”¢ç”Ÿæœ€å¾Œçš„å¯åŸ·è¡Œæª”ã€‚<code>-static</code>æœƒå¼·åˆ¶ç¨‹å¼ä½¿ç”¨éœæ…‹é€£çµï¼Œå³ä¸æ¡ç”¨å¤–ç•Œè¡¨ç›´æ¥å°‡ç¨‹å¼å…§å®¹å¯«é€²å¯åŸ·è¡Œæª”ï¼Œå¯ä»¥å®Œæ•´çœ‹åˆ°æ‰€æœ‰å‘¼å«å…§å®¹çš„çµ„åˆèªè¨€(ä½†æœƒè®Šå¾—å¾ˆå†—é•·)ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc hello.o -o hello -static</span><br><span class="line">gcc hello.c -o hello -static</span><br></pre></td></tr></table></figure>

<p>æœ€çµ‚ä¾¿ç”¢ç”Ÿå¯åŸ·è¡Œç¨‹å¼<code>hello</code>ï¼Œåˆ©ç”¨<code>objdump</code>è§€å¯Ÿä¸€ä¸‹<code>main</code>å‡½æ•¸çš„éƒ¨åˆ†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">0000000000001149 &lt;main&gt;:</span><br><span class="line">    1149:       f3 0f 1e fa             endbr64</span><br><span class="line">    114d:       55                      push   rbp</span><br><span class="line">    114e:       48 89 e5                mov    rbp,rsp</span><br><span class="line">    1151:       48 8d 3d ac 0e 00 00    lea    rdi,[rip+0xeac]        # 2004 &lt;_IO_stdin_used+0x4&gt;</span><br><span class="line">    1158:       e8 f3 fe ff ff          call   1050 &lt;puts@plt&gt;</span><br><span class="line">    115d:       b8 00 00 00 00          mov    eax,0x0</span><br><span class="line">    1162:       5d                      pop    rbp</span><br><span class="line">    1163:       c3                      ret</span><br><span class="line">    1164:       66 2e 0f 1f 84 00 00    nop    WORD PTR cs:[rax+rax*1+0x0]</span><br><span class="line">    116b:       00 00 00</span><br><span class="line">    116e:       66 90                   xchg   ax,ax</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç™¼ç¾<code>main</code>å‡½æ•¸å·²ç¶“è¢«é€£çµåˆ°æ­£ç¢ºçš„ä½å€<code>0x1149</code>ï¼Œä¹Ÿåšå¥½äº†å‡½æ•¸çš„æ‰€æœ‰å‘¼å«é€£çµï¼Œæ‰€ä»¥ç¨‹å¼èƒ½å¤ æ­£å¸¸é‹è¡Œäº†ã€‚ä»¥ä¸Šå°±æ˜¯æ‰€æœ‰ç”¢ç”Ÿå¯åŸ·è¡Œæª”ä¸­é–“çš„å…§å®¹ï½</p>
<h1 id="Disassemble"><a href="#Disassemble" class="headerlink" title="Disassemble"></a>Disassemble</h1><p>åçµ„è­¯æ˜¯é€†å‘å·¥ç¨‹ä¸­æœ€ç°¡å–®çš„éƒ¨åˆ†ï¼Œæ­¤éç¨‹ç‚ºå°‡å¯åŸ·è¡Œæª”è½‰æ›æˆçµ„åˆèªè¨€çš„éç¨‹ï¼Œå¤§éƒ¨åˆ†çš„å·¥å…·éƒ½èƒ½åšåˆ°é€™ä»¶äº‹ï¼ŒåŒ…å«gdbã€objdumpç­‰ï¼Œä¸»è¦æ˜¯å› ç‚ºçµ„åˆèªè¨€è½‰æ›æˆå¯åŸ·è¡Œæª”çš„éç¨‹åƒ…æ˜¯å°‡çµ„åˆèªè¨€ç¿»è­¯æˆæ©Ÿå™¨ç¢¼ï¼Œæ•…æ­¤éƒ¨åˆ†çš„é€†å‘å¯ä»¥è¼•æ˜“è½‰å›ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$ objdump -M intel -d hello</span><br><span class="line"></span><br><span class="line">hello:     file format elf64-x86-64</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disassembly of section .init:</span><br><span class="line"></span><br><span class="line">0000000000001000 &lt;_init&gt;:</span><br><span class="line">    1000:       f3 0f 1e fa             endbr64</span><br><span class="line">    1004:       48 83 ec 08             sub    rsp,0x8</span><br><span class="line">    1008:       48 8b 05 d9 2f 00 00    mov    rax,QWORD PTR [rip+0x2fd9]        <span class="comment"># 3fe8 &lt;__gmon_start__&gt;</span></span><br><span class="line">    100f:       48 85 c0                <span class="built_in">test</span>   rax,rax</span><br><span class="line">    1012:       74 02                   je     1016 &lt;_init+0x16&gt;</span><br><span class="line">    1014:       ff d0                   call   rax</span><br><span class="line">    1016:       48 83 c4 08             add    rsp,0x8</span><br><span class="line">    101a:       c3                      ret</span><br><span class="line"></span><br><span class="line">Disassembly of section .plt:</span><br><span class="line"></span><br><span class="line">0000000000001020 &lt;.plt&gt;:</span><br><span class="line">    1020:       ff 35 9a 2f 00 00       push   QWORD PTR [rip+0x2f9a]        <span class="comment"># 3fc0 &lt;_GLOBAL_OFFSET_TABLE_+0x8&gt;</span></span><br><span class="line">    1026:       f2 ff 25 9b 2f 00 00    bnd jmp QWORD PTR [rip+0x2f9b]        <span class="comment"># 3fc8 &lt;_GLOBAL_OFFSET_TABLE_+0x10&gt;</span></span><br><span class="line">    102d:       0f 1f 00                nop    DWORD PTR [rax]</span><br><span class="line">    1030:       f3 0f 1e fa             endbr64</span><br><span class="line">    1034:       68 00 00 00 00          push   0x0</span><br><span class="line">    1039:       f2 e9 e1 ff ff ff       bnd jmp 1020 &lt;.plt&gt;</span><br><span class="line">    103f:       90                      nop</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>ç„¶è€Œï¼Œçµ„åˆèªè¨€éç¨‹ä¾èˆŠæœ‰è³‡è¨Šéºå¤±ï¼Œå› ç‚ºåç·¨è­¯æ™‚å¿…é ˆç¢ºå®šå“ªäº›æ©Ÿå™¨ç¢¼æ˜¯ä½œç‚ºç¨‹å¼éƒ¨åˆ†ã€å“ªäº›åšç‚ºè³‡æ–™éƒ¨åˆ†ï¼Œæ‰èƒ½ç²¾æº–åçµ„è­¯ï¼Œè‹¥æ˜¯ä¸å°å¿ƒå°‡è³‡æ–™åŒæ¨£åçµ„è­¯ï¼Œå‡ºç¾çš„çµ„åˆèªè¨€å°±ä¸æœƒæ­£ç¢ºã€‚ç¾ä»Šçµ„åˆèªè¨€çš„æ¶æ§‹å°‡ç¨‹å¼èˆ‡è³‡æ–™çš„ç•Œç·šå¼„å¾—ç›¸ç•¶æ¨¡ç³Šï¼Œå› æ­¤ä¹Ÿä¸èƒ½ç¢ºä¿åçµ„è­¯çµ„åˆèªè¨€è¼¸å‡ºçš„å…§å®¹å¿…å®šæ­£ç¢ºï¼ŒåŒ…å«JMP LABELçš„è³‡è¨Šæ˜¯éå¸¸å®¹æ˜“åœ¨åçµ„è­¯éç¨‹éºå¤±çš„ã€‚ä¸éæˆ‘å€‘å¯ä»¥é€éä»¥ä¸‹å…©ç¨®æ¼”ç®—æ³•ä¾†é‚„åŸç¨‹å¼æµç¨‹ï¼Œ<strong>ç·šæ€§æƒæèˆ‡éè¿´ä¸‹é™</strong>ã€‚</p>
<p><strong>ç·šæ€§æƒæ</strong>ç°¡è€Œè¨€ä¹‹å°±æ˜¯æš´åŠ›æœç´¢ï¼Œæ ¹æ“šæ©Ÿå™¨ç¢¼çš„ä½ç½®å¾é ­åˆ°å°¾é€²è¡Œåçµ„è­¯ï¼Œä½†åªè¦ä¸­é–“æ’å…¥äº†å…¶ä»–è³‡æ–™ï¼Œé€™ç¨®æ¼”ç®—æ³•å°±æœƒå¤±æ•ˆã€‚</p>
<p><strong>éè¿´ä¸‹é™</strong>å‰‡æ˜¯é€éç¨‹å¼çš„ç‰¹å¾µ(pattern)ä¾†é€²è¡Œåˆ¤æ–·ï¼Œå¦‚æ¢ä»¶æŒ‡ä»¤å°±å¯èƒ½æœƒå‡ºç¾å…©å€‹åˆ†æ”¯ï¼Œæ™®é€šæŒ‡ä»¤å‰‡æœƒç›´æ¥åŸ·è¡Œä¸‹ä¸€è¡Œç­‰ï¼Œéè¿´ä¸‹é™æœƒä½¿ç”¨é€™ç¨®æ–¹æ³•ä¾†åˆ¤æ–·è‡ªå·±åçµ„è­¯çš„å…§å®¹æ˜¯å¦æ­£ç¢ºï¼Œæ™®éè€Œè¨€æ­£ç¢ºç‡è¼ƒç·šæ€§æƒæé«˜ï¼Œä¸€èˆ¬å·¥å…·éƒ½æœƒä½¿ç”¨é€™ç¨®æ¼”ç®—æ³•ä¾†åçµ„è­¯ã€‚</p>
<h1 id="Decompile"><a href="#Decompile" class="headerlink" title="Decompile"></a>Decompile</h1><p>åç·¨è­¯çš„éƒ¨åˆ†é›£åº¦è¼ƒåçµ„è­¯é«˜ä¸Šè¨±å¤šï¼Œè¨±å¤šèªè¨€åŒ…å«C/C++ç”šè‡³æ²’æœ‰å°æ‡‰çš„åçµ„è­¯å™¨ï¼Œå¾ä¸Šé¢ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œç·¨è­¯çš„éç¨‹ä¸­ç¨‹å¼å‡ºç¾äº†é‡å¤§çš„æ”¹è®Šï¼Œå› æ­¤è¨±å¤šè³‡è¨Šåœ¨ç·¨è­¯éç¨‹ä¸­æ˜¯æœƒéºå¤±çš„ï¼Œä¹Ÿå› æ­¤åç·¨è­¯çš„é›£åº¦æ¥µé«˜ã€‚ç•¶ç„¶ï¼Œä¹Ÿæœ‰æŸäº›ç¨‹å¼èªè¨€å¦‚Javaã€C#ç­‰ï¼Œå¯ä»¥é€éç‰¹å®šçš„å·¥å…·å®Œæ•´é‚„åŸåŸå§‹ç¨‹å¼ï¼Œä½†åŸºæœ¬ä¸Šå¤§éƒ¨åˆ†çš„é«˜éšèªè¨€ä»ç„¶ç„¡æ³•å®Œå…¨åç·¨è­¯ã€‚é€™è£¡å…ˆç°¡å–®ä»‹ç´¹ä¸€äº›å·¥å…·ï¼Œå¾ŒçºŒæœƒé™¸çºŒä»‹ç´¹é€™äº›å·¥å…·çš„ä½¿ç”¨æ–¹æ³•ã€‚</p>
<h2 id="dnSpy"><a href="#dnSpy" class="headerlink" title="dnSpy"></a>dnSpy</h2><p>é€™å€‹å·¥å…·æ˜¯å°ˆé–€ç”¨ä¾†é€†å‘C#çš„å¯åŸ·è¡Œæª”<code>.NET</code>çš„å·¥å…·ï¼ŒåŸºæ–¼C#çš„ç‰¹æ€§ï¼ŒdnSpyåŸºæœ¬ä¸Šåœ¨æœ‰å®Œæ•´<code>.dll</code>æª”çš„æƒ…æ³ä¸‹å¯ä»¥å®Œæ•´é€†å‡ºç¨‹å¼é‚è¼¯èˆ‡è³‡æ–™(ä½†æœ‰äº›æ™‚å€™æœƒæœ‰è³‡è¨Šéºæ¼)ï¼Œé‡åˆ°<code>.NET</code>çš„å•é¡Œé€šå¸¸æ˜¯ä½¿ç”¨é€™å€‹ä¾†é€†å‘è™•ç†ã€‚ä½¿ç”¨ä»‹é¢å¦‚ä¸‹ï¼š</p>
<p><img src="https://i.imgur.com/fsN7qeB.png"></p>
<h2 id="Java-Decompiler"><a href="#Java-Decompiler" class="headerlink" title="Java Decompiler"></a>Java Decompiler</h2><p>Javaçš„ä¸‹æ¸¸æª”æ¡ˆ<code>.class</code>èˆ‡<code>.jar</code>ä¹Ÿå¯ä»¥ç›´æ¥é€éé€†å‘å·¥å…·ä¾†å®Œæ•´é€†å‘ï¼Œä¸€èˆ¬ä½¿ç”¨ç·šä¸Šå·¥å…·å³å¯ï¼Œä¹Ÿæœ‰æœ¬åœ°çš„è»Ÿé«”èƒ½å¤ ä½¿ç”¨ï¼Œä»¥ä¸‹åˆ—å‡ºå¹¾å€‹å¥½ç”¨çš„å·¥å…·ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://java-decompiler.github.io/">Java-decompiler</a>ï¼šæœ¬åœ°å·¥å…·</li>
<li><a target="_blank" rel="noopener" href="http://www.javadecompilers.com/">Online Tool</a>ï¼šç·šä¸Šå·¥å…·</li>
</ul>
<h2 id="IDA-Pro"><a href="#IDA-Pro" class="headerlink" title="IDA Pro"></a>IDA Pro</h2><p>IDA Proæ˜¯ç›®å‰å¸‚é¢ä¸Šæ•¸ä¸€æ•¸äºŒå¼·å¤§çš„åˆ†æå·¥å…·ï¼Œå¯ä»¥å°æ–¼x86ã€ARMç­‰å¤šå€‹æ¶æ§‹é€²è¡ŒPEã€ELFæª”æ¡ˆçš„é€†å‘éœæ…‹åˆ†æèˆ‡å‹•æ…‹åµéŒ¯ï¼Œå…¶å…§éƒ¨ä½¿ç”¨Hex-Rays Decompilerï¼Œå¯ä»¥é‡å°çµ„åˆèªè¨€ç”¢ç”ŸCèªè¨€å½åŸå§‹ç¢¼ï¼ŒåŸºæœ¬ä¸Šé›–ç„¶ä¸ç²¾ç¢ºï¼Œä½†å°æ–¼åˆ†æè€Œè¨€æ˜¯ä¸€å€‹éå¸¸å¤§çš„å¹«åŠ©ï¼ŒåŒ…å«é‡æ¸…ç¨‹å¼çš„å‡½å¼åŠŸèƒ½ç­‰ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨çš„ä»‹é¢ç¤ºæ„åœ–ï¼š</p>
<p><img src="https://i.imgur.com/ZBBX1xl.png"></p>
<h2 id="Ghidra"><a href="#Ghidra" class="headerlink" title="Ghidra"></a>Ghidra</h2><p>Ghidraçš„æ€§è³ªèˆ‡IDA Proé¡ä¼¼ï¼Œä½¿ç”¨Javaé–‹ç™¼ï¼ŒåŸºæœ¬ä¸Šèˆ‡IDA Proç›¸å»ç„¡å¹¾ï¼Œä¸”ç‚ºé–‹æºç¨‹å¼ï¼Œé›–ç„¶pluginæ¯”IDA Proå°‘ä¸€äº›ï¼Œä½†åŸºæœ¬çš„åçµ„è­¯ã€åç·¨è­¯åŠŸèƒ½ä¹Ÿä¸è¼¸IDA Proï¼Œè©³ç´°çš„ä½¿ç”¨ä»‹é¢å¦‚ä¸‹ï¼š</p>
<p><img src="https://i.imgur.com/2Er59qz.png"></p>
<h2 id="gdb"><a href="#gdb" class="headerlink" title="gdb"></a>gdb</h2><p>gdbæ˜¯ä¸€æ¬¾å¼·å¤§çš„GNUå‘½ä»¤åˆ—åµéŒ¯å™¨ï¼Œç”¨æ–¼é€†å‘å·¥ç¨‹çš„å‹•æ…‹åˆ†æï¼Œä¸¦ä¸”æ”¯æ´Pythonçš„ç¨‹å¼ä½¿ç”¨ï¼Œæ“´å……å¤–æ›ä¹ŸåŒæ¨£æ˜“ç”¨ï¼Œæ ¹æ“šä¸åŒçš„éœ€æ±‚ï¼Œå¸¸ç”¨çš„å¤–æ›æœ‰gefã€pedaèˆ‡pwndbgï¼Œè®€è€…å¯ä»¥æ ¹æ“šè‡ªå·±çš„éœ€æ±‚é¸æ“‡ä½¿ç”¨ã€‚ä½¿ç”¨ä»‹é¢å¦‚ä¸‹(ä»¥pwndbgç‚ºä¾‹)ï¼š</p>
<p><img src="https://i.imgur.com/e3wrmWA.png"></p>
<h2 id="radare2"><a href="#radare2" class="headerlink" title="radare2"></a>radare2</h2><p>radare2æ˜¯é€²è¡Œé€†å‘å·¥ç¨‹çš„å¥½å·¥å…·ï¼Œæœ€å¤§å¥½è™•æ˜¯æ”¯æ´å‘½ä»¤åˆ—åŠŸèƒ½ï¼Œå¯ä»¥åœ¨Linux CMDä¸­é‹è¡Œï¼Œèˆ‡IDA Proèƒ½é€²è¡Œçš„åŠŸèƒ½å·²ç›¸ç•¶æ¥è¿‘ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€™é …å·¥å…·ä¸¦æ²’æœ‰åç·¨è­¯åŠŸèƒ½ã€‚ä½¿ç”¨ä»‹é¢å¦‚ä¸‹ï¼š</p>
<p><img src="https://i.imgur.com/eqfkCNe.png"></p>
<h2 id="Ollydbg-amp-x64dbg"><a href="#Ollydbg-amp-x64dbg" class="headerlink" title="Ollydbg &amp; x64dbg"></a>Ollydbg &amp; x64dbg</h2><p>é€™å…©å€‹å·¥å…·æ˜¯å°ˆé–€ç”¨æ–¼Windowsé€†å‘çš„åµéŒ¯å·¥å…·ï¼Œå…¶ä¸­Ollydbgæ”¯æ´32bitï¼Œx64dbgå‰‡æ“´å……æ”¯æ´32bitèˆ‡64bitã€‚é€™å…©å€‹å·¥å…·çš„æ“´å……æ€§åŒæ¨£å¾ˆé«˜ï¼Œä¸»è¦æ˜¯é‡å°Windowsé€†å‘çš„é¡Œç›®è¼ƒèƒ½å¤ è™•ç†ï¼Œä½†å…¶ä¸­ä¸¦æ²’æœ‰åç·¨è­¯çš„åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨ä»‹é¢(ä»¥x64dbgç‚ºä¾‹)ï¼š</p>
<p><img src="https://i.imgur.com/e3eBOFW.png"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:alb105322129@gmail.com">Albert Huang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://albert-notes.github.io/2023/01/30/ctf-reverse-1/">http://albert-notes.github.io/2023/01/30/ctf-reverse-1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Security/">Security</a><a class="post-meta__tags" href="/tags/CTF/">CTF</a><a class="post-meta__tags" href="/tags/Education/">Education</a><a class="post-meta__tags" href="/tags/Reverse-Engineering/">Reverse Engineering</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/01/28/ctf-crypto-2/"><img class="prev-cover" src="/img/cgy.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸é€²éšI</div></div></a></div><div class="next-post pull-right"><a href="/2023/03/30/picoctf-2023/"><img class="next-cover" src="/img/picoctf.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">picoCTF 2023 Write Up</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2023/03/30/picoctf-2023/" title="picoCTF 2023 Write Up"><img class="cover" src="/img/picoctf.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-30</div><div class="title">picoCTF 2023 Write Up</div></div></a></div><div><a href="/2023/01/28/ctf-crypto-2/" title="CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸é€²éšI"><img class="cover" src="/img/cgy.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-28</div><div class="title">CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸é€²éšI</div></div></a></div><div><a href="/2023/01/26/ctf-crypto-1/" title="CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸åŸºç¤"><img class="cover" src="/img/enc.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-26</div><div class="title">CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸åŸºç¤</div></div></a></div><div><a href="/2023/01/24/ctf-web-1/" title="CTFç³»åˆ—-Webç¶²è·¯å®‰å…¨åŸºç¤I"><img class="cover" src="/img/sql.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-24</div><div class="title">CTFç³»åˆ—-Webç¶²è·¯å®‰å…¨åŸºç¤I</div></div></a></div><div><a href="/2023/05/27/AIS3-2023-preexam/" title="2023 AIS3 Pre-exam Write Up"><img class="cover" src="/img/ais4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-27</div><div class="title">2023 AIS3 Pre-exam Write Up</div></div></a></div><div><a href="/2022/06/11/AIS3-2022-preexam/" title="2022 AIS3 Pre-exam Write Up"><img class="cover" src="/img/ais2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-06-11</div><div class="title">2022 AIS3 Pre-exam Write Up</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/alb.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Albert Huang</div><div class="author-info__description">Life is a journey.</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">21</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">22</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/albert-notes"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/albert-notes" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:alb105322129@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.facebook.com/albert.huang.57/" target="_blank" title="Facebook"><i class="fab fa-facebook"></i></a><a class="social-icon" href="https://www.instagram.com/albert.huang_57/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">ã€Šæ‹“ã€‹ 2022 å…¨åœ‹é«˜ä¸­ç”Ÿå¤§åˆå”±å‡ºçˆå›‰ ! è¶•å¿«å» Music åˆ†é é»æ’­ !</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Basic-Assembly"><span class="toc-number">1.</span> <span class="toc-text">Basic Assembly</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#x86-vs-ARM"><span class="toc-number">1.1.</span> <span class="toc-text">x86 vs. ARM</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Intel-vs-AT-amp-T-syntax"><span class="toc-number">1.2.</span> <span class="toc-text">Intel vs. AT&amp;T syntax</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Registers"><span class="toc-number">1.3.</span> <span class="toc-text">Registers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Statements"><span class="toc-number">1.4.</span> <span class="toc-text">Statements</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MOV-move"><span class="toc-number">1.4.1.</span> <span class="toc-text">MOV (move)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ADD-add"><span class="toc-number">1.4.2.</span> <span class="toc-text">ADD (add)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SUB-subtract"><span class="toc-number">1.4.3.</span> <span class="toc-text">SUB (subtract)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MUL-multiplicate-amp-DIV-divide"><span class="toc-number">1.4.4.</span> <span class="toc-text">MUL (multiplicate) &amp; DIV (divide)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JMP-jump-amp-LOOP-loop"><span class="toc-number">1.4.5.</span> <span class="toc-text">JMP (jump) &amp; LOOP (loop)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Stack"><span class="toc-number">1.5.</span> <span class="toc-text">Stack</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B5%B1%E6%95%B4"><span class="toc-number">1.6.</span> <span class="toc-text">çµ±æ•´</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E9%80%B2%E4%BD%8D%E6%AA%94%E6%A1%88-Binary"><span class="toc-number">2.</span> <span class="toc-text">äºŒé€²ä½æª”æ¡ˆ(Binary)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Preprocessor"><span class="toc-number">2.1.</span> <span class="toc-text">Preprocessor</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Compiler"><span class="toc-number">2.2.</span> <span class="toc-text">Compiler</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Assembler"><span class="toc-number">2.3.</span> <span class="toc-text">Assembler</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Executable"><span class="toc-number">2.4.</span> <span class="toc-text">Executable</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Disassemble"><span class="toc-number">3.</span> <span class="toc-text">Disassemble</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Decompile"><span class="toc-number">4.</span> <span class="toc-text">Decompile</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#dnSpy"><span class="toc-number">4.1.</span> <span class="toc-text">dnSpy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Java-Decompiler"><span class="toc-number">4.2.</span> <span class="toc-text">Java Decompiler</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDA-Pro"><span class="toc-number">4.3.</span> <span class="toc-text">IDA Pro</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ghidra"><span class="toc-number">4.4.</span> <span class="toc-text">Ghidra</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gdb"><span class="toc-number">4.5.</span> <span class="toc-text">gdb</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#radare2"><span class="toc-number">4.6.</span> <span class="toc-text">radare2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ollydbg-amp-x64dbg"><span class="toc-number">4.7.</span> <span class="toc-text">Ollydbg &amp; x64dbg</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/05/27/AIS3-2023-preexam/" title="2023 AIS3 Pre-exam Write Up"><img src="/img/ais4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2023 AIS3 Pre-exam Write Up"/></a><div class="content"><a class="title" href="/2023/05/27/AIS3-2023-preexam/" title="2023 AIS3 Pre-exam Write Up">2023 AIS3 Pre-exam Write Up</a><time datetime="2023-05-27T14:49:43.000Z" title="Created 2023-05-27 22:49:43">2023-05-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/30/picoctf-2023/" title="picoCTF 2023 Write Up"><img src="/img/picoctf.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="picoCTF 2023 Write Up"/></a><div class="content"><a class="title" href="/2023/03/30/picoctf-2023/" title="picoCTF 2023 Write Up">picoCTF 2023 Write Up</a><time datetime="2023-03-30T10:09:42.000Z" title="Created 2023-03-30 18:09:42">2023-03-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/30/ctf-reverse-1/" title="CTFç³»åˆ—-Reverse Engineeringé€†å‘å·¥ç¨‹åŸºç¤I"><img src="/img/mlw.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CTFç³»åˆ—-Reverse Engineeringé€†å‘å·¥ç¨‹åŸºç¤I"/></a><div class="content"><a class="title" href="/2023/01/30/ctf-reverse-1/" title="CTFç³»åˆ—-Reverse Engineeringé€†å‘å·¥ç¨‹åŸºç¤I">CTFç³»åˆ—-Reverse Engineeringé€†å‘å·¥ç¨‹åŸºç¤I</a><time datetime="2023-01-30T05:44:27.000Z" title="Created 2023-01-30 13:44:27">2023-01-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/28/ctf-crypto-2/" title="CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸é€²éšI"><img src="/img/cgy.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸é€²éšI"/></a><div class="content"><a class="title" href="/2023/01/28/ctf-crypto-2/" title="CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸é€²éšI">CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸é€²éšI</a><time datetime="2023-01-28T13:41:20.000Z" title="Created 2023-01-28 21:41:20">2023-01-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/26/ctf-crypto-1/" title="CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸åŸºç¤"><img src="/img/enc.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸åŸºç¤"/></a><div class="content"><a class="title" href="/2023/01/26/ctf-crypto-1/" title="CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸åŸºç¤">CTFç³»åˆ—-Cryptographyå¯†ç¢¼å­¸åŸºç¤</a><time datetime="2023-01-26T14:58:44.000Z" title="Created 2023-01-26 22:58:44">2023-01-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Albert Huang</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="Increase font size"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="Decrease font size"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    loader: {
      source: {
        '[tex]/amsCd': '[tex]/amscd'
      }
    },
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        addClass: [200,() => {
          document.querySelectorAll('mjx-container:not([display=\'true\']').forEach( node => {
            const target = node.parentNode
            if (!target.classList.contains('has-jax')) {
              target.classList.add('mathjax-overflow')
            }
          })
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', '', 'katex-wrap')
  })
})()</script><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script></div><script src="/js/exten.js"></script><link rel="stylesheet" href="/css/exten.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/mouse_snow.min.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>