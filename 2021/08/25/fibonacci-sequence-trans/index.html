<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Fibonacci Sequence's Transformation | M3t30r</title><meta name="keywords" content="Mathematics,Fibonacci Sequence,Linear Algebra,Matrix,Generating Function"><meta name="author" content="Albert Huang"><meta name="copyright" content="Albert Huang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="這篇筆記主要會整理如何對費波那契數列(Fibonacci Sequence)的遞迴式進行數學運算，並將其轉換為可以項數索引值表示的一般式結構。 What’s Fibonacci Sequence?首先簡單定義著名的費波那契數列遞迴式: 滿足$F_1&#x3D;F_2&#x3D;1$且$\forall n∈N$存在以下關係: $F_{n+2} &#x3D; F_n + F_{n+1}$ 則將此序列稱為費波那契數列(Fibonac">
<meta property="og:type" content="article">
<meta property="og:title" content="Fibonacci Sequence&#39;s Transformation">
<meta property="og:url" content="http://albert-notes.github.io/2021/08/25/fibonacci-sequence-trans/index.html">
<meta property="og:site_name" content="M3t30r">
<meta property="og:description" content="這篇筆記主要會整理如何對費波那契數列(Fibonacci Sequence)的遞迴式進行數學運算，並將其轉換為可以項數索引值表示的一般式結構。 What’s Fibonacci Sequence?首先簡單定義著名的費波那契數列遞迴式: 滿足$F_1&#x3D;F_2&#x3D;1$且$\forall n∈N$存在以下關係: $F_{n+2} &#x3D; F_n + F_{n+1}$ 則將此序列稱為費波那契數列(Fibonac">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://albert-notes.github.io/img/fib.png">
<meta property="article:published_time" content="2021-08-25T06:35:31.000Z">
<meta property="article:modified_time" content="2021-08-26T11:45:47.191Z">
<meta property="article:author" content="Albert Huang">
<meta property="article:tag" content="Mathematics">
<meta property="article:tag" content="Fibonacci Sequence">
<meta property="article:tag" content="Linear Algebra">
<meta property="article:tag" content="Matrix">
<meta property="article:tag" content="Generating Function">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://albert-notes.github.io/img/fib.png"><link rel="shortcut icon" href="/img/fav.ico"><link rel="canonical" href="http://albert-notes.github.io/2021/08/25/fibonacci-sequence-trans/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-08-26 19:45:47'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/alb.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">11</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">16</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/videos/"><i class="fa-fw fas fa-desktop"></i><span> Videos</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/certificates/"><i class="fa-fw fas fa-certificate"></i><span> Certificates</span></a></div><div class="menus_item"><a class="site-page" href="/resources/"><i class="fa-fw fas fa-lightbulb"></i><span> Resources</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-address-card"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/fib.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">M3t30r</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/videos/"><i class="fa-fw fas fa-desktop"></i><span> Videos</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/certificates/"><i class="fa-fw fas fa-certificate"></i><span> Certificates</span></a></div><div class="menus_item"><a class="site-page" href="/resources/"><i class="fa-fw fas fa-lightbulb"></i><span> Resources</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-address-card"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Fibonacci Sequence's Transformation</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-08-25T06:35:31.000Z" title="Created 2021-08-25 14:35:31">2021-08-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-08-26T11:45:47.191Z" title="Updated 2021-08-26 19:45:47">2021-08-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Mathematics/">Mathematics</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">3.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>15min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Fibonacci Sequence's Transformation"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>這篇筆記主要會整理如何對費波那契數列(Fibonacci Sequence)的遞迴式進行數學運算，並將其轉換為可以項數索引值表示的一般式結構。</p>
<h1 id="What’s-Fibonacci-Sequence"><a href="#What’s-Fibonacci-Sequence" class="headerlink" title="What’s Fibonacci Sequence?"></a>What’s Fibonacci Sequence?</h1><p>首先簡單定義著名的費波那契數列遞迴式:</p>
<p>滿足$F_1=F_2=1$且$\forall n∈N$存在以下關係:</p>
<p>$F_{n+2} = F_n + F_{n+1}$</p>
<p>則將此序列稱為費波那契數列(Fibonacci Sequence)。</p>
<p>因此我們可以透過以上的等式列出此數列的前幾項:<br>$1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144…$</p>
<h1 id="History-of-Fibonacci-Sequence"><a href="#History-of-Fibonacci-Sequence" class="headerlink" title="History of Fibonacci Sequence"></a>History of Fibonacci Sequence</h1><p>公元 1150 年，印度數學家 Gopala 在研究箱子包裝物件長寬剛好為 1 和 2 的可行方法數目時，首先描述這個數列。而接著在歐洲的義大利數學家費波那契(Fibonacci)則在描述兔群生長問題時，使用了這個數列來描述之，費波那契數列也因此開始受到廣泛的研究。</p>
<p>該問題細部如下:</p>
<ol>
<li>第一個月初有一對剛誕生的兔子</li>
<li>第二個月之後（第三個月初）牠們可以生育</li>
<li>每月每對可生育的兔子會誕生下一對新兔子</li>
<li><strong>兔子永不死去</strong></li>
</ol>
<p>這項問題的每個月存在兔子對數即構成費波那契數列。</p>
<p>費波那契數列的應用十分廣泛，包括黃金比例、植物學的葉形分布、以及許多的數學性質、最佳化理論等，對於這項數列都有著十分神奇的關聯性，事實上數學家廣泛認為這與費波那契數列的黃金比例性質有關。</p>
<h1 id="Thinking"><a href="#Thinking" class="headerlink" title="Thinking"></a>Thinking</h1><p>在將費波那契數列轉換為一般式之前，我們先來複習高中所學到的遞迴式轉換為一般式的過程。</p>
<h2 id="Example-1-一階遞迴"><a href="#Example-1-一階遞迴" class="headerlink" title="Example 1 (一階遞迴)"></a>Example 1 (一階遞迴)</h2><p>已知數列${a_n}$的首項$a_1=1$，且該數列滿足$a_{n+1}=a_{n}\times \dfrac{n}{n+1}$，$\forall n \in N$，求$a_n$的一般式$?$</p>
<p><strong>Solution:</strong><br>$a_2=a_1\times \dfrac{1}{2}$<br>$a_3=a_2\times \dfrac{2}{3}$<br>$a_4=a_3\times \dfrac{3}{4}$<br>$…$<br>$\times)a_n=a_{n-1}\times \dfrac{n-1}{n}$<br>$———————————–$<br>$a_n=a_1\times \dfrac{1}{n}$</p>
<p>又$a_1=1$<br>$\implies a_n=\dfrac{1}{n}，\forall n \in N$</p>
<p><strong>Example 1</strong>運用了累乘法來對遞迴式進行處理，這類對遞迴式進行四則運算的手法經常被運用到解決單純一階遞迴一般式的問題利用遞迴項恆等式的四則運算來消去不必要的項目，獲得最終以$n$表示的一般項。也許你會問，遞迴式化簡真的如此簡單嗎?讓我們看看另一個例子。</p>
<h2 id="Example-2-二階遞迴"><a href="#Example-2-二階遞迴" class="headerlink" title="Example 2 (二階遞迴)"></a>Example 2 (二階遞迴)</h2><p>$a_1=1，a_2=1，a_{n+2}=2a_{n+1}+3a_n，n \in N$，求$a_n$的一般式$?$</p>
<p><strong>Solution:</strong><br>將原遞迴式利用未知數$k$移項一下，可得</p>
<p>$a_{n+2}=2a_{n+1}+3a_n\implies a_{n+2}-ka_{n+1}=(2-k)a_{n+1}+3a_n$</p>
<p>需求適當$k$使得遞迴式左右皆呈單項，列式可得$\dfrac{1}{2-k}=\dfrac{-k}{3}$<br>解方程式得$k=-1$ $or$ $3$。</p>
<p>① $k=-1$</p>
<p>代回原遞迴式得$a_{n+2}+a_{n+1}=3(a_{n+1}+a_n)=3^2(a_n+a_{n-1})=$ $…$<br>$=3^n(a_2+a_1)=2\cdot 3^n$</p>
<p>② $k=3$</p>
<p>代回原遞迴式得$a_{n+2}-3a_{n+1}=(-1)(a_{n+1}-3a_n)=(-1)^2(a_n-3a_{n-1})=$ $…$<br>$=(-1)^n(a_2-3a_1)=(-2)\cdot (-1)^n$</p>
<p>利用以上兩個結果解聯立方程式</p>
<p>$<br>  \begin{cases}<br>    a_{n+2}+a_{n+1}=2\cdot 3^n \\<br>    a_{n+2}-3a_{n+1}=(-2)\cdot (-1)^n<br>  \end{cases}<br>$</p>
<p>可得$a_{n+1}=\dfrac{3^n+(-1)^n}{2}$，代入$n=0$發現$a_1$符合一般式規則，即可求得一般式為</p>
<p>$a_n=\dfrac{3^{n-1}+(-1)^{n-1}}{2}，\forall n \in N$</p>
<p>上面<strong>Example 2</strong>提到了一個巧妙的變換手法，我們稱此方法為階差法，但費波那契數列是否能夠用類似的手法來處理呢?</p>
<p>答案是可以的。費波那契數列事實上是二階遞迴的一種，因此可以利用上方舉例的<strong>Example 2</strong>手法來處理，但因為算式的處理難易度考量，處理的手法可能會有些許的不同。此外，二階遞迴的化簡方法亦不僅一種，以下將會介紹除了階差法在內的三種方式來化簡之，一起來看看~</p>
<h1 id="階差法"><a href="#階差法" class="headerlink" title="階差法"></a>階差法</h1><h2 id="Method-1"><a href="#Method-1" class="headerlink" title="Method 1"></a>Method 1</h2><p>根據費波那契數列遞迴式利用未知數$\alpha$移項，可得</p>
<p>$F_{n+2}=F_{n+1}+F_n\implies F_{n+2}-\alpha F_{n+1}=(1-\alpha)F_{n+1}+F_n$</p>
<p>我們使用階差法的目標在於使兩邊成為單項，因此可得等式$\dfrac{1}{1-\alpha}=\dfrac{-\alpha}{1}$</p>
<p>解得$\alpha =\dfrac{1\pm \sqrt{5}}{2}$</p>
<p>接著分別使用兩個$\alpha$的實根代回原遞迴式並解聯立方程式(可參考上方<strong>Example 2</strong>)，即可得到一般式。</p>
<p>但這個方法太早牽涉到根號的運算，因此解的過程會非常辛苦…😵<br>讓我們來看看另一種較為簡單的階差法處理方式吧!</p>
<h2 id="Method-2"><a href="#Method-2" class="headerlink" title="Method 2"></a>Method 2</h2><p>我們同樣利用未知數$\alpha$來對遞迴式移項，但形式有些不同:<br>$F_{n+2}=F_{n+1}+F_n\implies F_{n+2}-\alpha F_{n+1}=(1-\alpha)(F_{n+1}-\alpha F_n)$</p>
<p>接著代入索引值:</p>
<p>$\begin{cases}<br>    F_{n}-\alpha F_{n-1}=(1-\alpha)(F_{n-1}-\alpha F_{n-2}) \to (1)式 \\<br>    F_{n-1}-\alpha F_{n-2}=(1-\alpha)(F_{n-2}-\alpha F_{n-3}) \to (2)式 \\<br>    … \\<br>    F_4-\alpha F_3=(1-\alpha)(F_3-\alpha F_2) \to (n-3)式 \\<br>    F_3-\alpha F_2=(1-\alpha)(F_2-\alpha F_1) \to (n-2)式<br>  \end{cases}$</p>
<p>此時考慮$(1)$式$+(1-\alpha)\times(2)$式$+(1-\alpha)^2 \times(3)$式$+…+(1-\alpha)^{(n-3)}\times(n-2)$式，可得</p>
<p>$F_n-\alpha F_{n-1}=(1-\alpha)^{n-2}(F_2-\alpha F_1)$</p>
<p>再代入一次索引值:</p>
<p>$\begin{cases}<br>    F_n-\alpha F_{n-1}=(1-\alpha)^{n-2}(F_2-\alpha F_1) \to (1)式 \\<br>    F_{n-1}-\alpha F_{n-2}=(1-\alpha)^{n-3}(F_2-\alpha F_1) \to (2)式 \\<br>    … \\<br>    F_4-\alpha F_3=(1-\alpha)^{2}(F_2-\alpha F_1) \to (n-3)式 \\<br>    F_3-\alpha F_2=(1-\alpha)(F_2-\alpha F_1) \to (n-2)式<br>  \end{cases}$</p>
<p>此時接著考慮$(1)$式$+\alpha\times(2)$式$+\alpha^2 \times(3)$式$+…+\alpha^{(n-3)}\times(n-2)$式，可得等式<br>$F_n-\alpha^{n-2}F_2=(F_2-\alpha F_1)(1-\alpha)^{n-2}\cdot\dfrac{(1-(\dfrac{\alpha}{1-\alpha})^{n-2})}{1-\dfrac{\alpha}{1-\alpha}}$</p>
<p>以$F_1=F_2=1$代回求得$F_n=\dfrac{(1-\alpha)^n-\alpha^n}{1-2\alpha}$</p>
<p>最後一步就是將$\alpha$的值求出!</p>
<p>以遞迴式規則可以輕易求出$F_3=2$，將其代回上方的$(n-2)$式求解可得等式</p>
<p>$2-\alpha=(1-\alpha)^2\implies \alpha^2-\alpha-1=0$</p>
<p>解得$\alpha=\dfrac{1\pm \sqrt{5}}{2}$，代回原式!</p>
<p>求得費波那契數列一般項$F_n=\dfrac{1}{\sqrt{5}}((\dfrac{1+\sqrt{5}}{2})^n-(\dfrac{1-\sqrt{5}}{2})^n)$</p>
<blockquote>
<p>現在知道為什麼費氏數列的一般項化簡會這麼麻煩了嗎~:P</p>
</blockquote>
<h1 id="矩陣法"><a href="#矩陣法" class="headerlink" title="矩陣法"></a>矩陣法</h1><p>上面的階差法運用了類似於<strong>等比數列</strong>的概念將費波那契數列轉換為一般項，因此若運用類似的方法，推測矩陣應亦能達成此效果。以下為推導過程:</p>
<p>利用觀察法，可以將費氏數列的原遞迴式改寫為矩陣形式<br>$F_{n+1}=F_{n}+F_{n-1}\implies \left(<br>\begin{array}{c}F_{n+1} \\ F_{n} \\ \end{array} \right)=\left( \begin{array}{cc} 1 &amp; 1 \\ 1 &amp; 0 \\<br>\end{array} \right) \left( \begin{array}{c} F_{n}  \\ F_{n-1}  \\ \end{array} \right)$</p>
<p>繼續下推可得$\left(<br>\begin{array}{c}F_{n+1} \\ F_{n} \\ \end{array} \right)=\left( \begin{array}{cc} 1 &amp; 1 \\ 1 &amp; 0 \\<br>\end{array} \right)^{n-1} \left( \begin{array}{c} F_{2}  \\ F_{1}  \\ \end{array} \right)$</p>
<p>故我們只要將$\left( \begin{array}{cc} 1 &amp; 1 \\ 1 &amp; 0 \\<br>\end{array} \right)^{n-1}$求出即可獲得一般式。而因為此法為求矩陣高次方，故直接利用對角化性質求解。</p>
<p>令原矩陣之特徵值(Eigenvalue)為$\lambda$，特徵向量為$x$，矩陣$A=\left(\begin{array}{cc} 1 &amp; 1 \\ 1 &amp; 0 \\<br>\end{array} \right)$，需求解$\lambda$使得$Ax=\lambda x$(特徵方程式定義)。經過移項可得$(A-\lambda I)x=0(I$是為了簡化計算而乘入，不影響計算結果$)$，根據矩陣與行列式互換性質得$det(A-\lambda I)=0\implies det\left( \begin{array}{cc} 1-\lambda &amp; 1 \\ 1 &amp; -\lambda \\<br>\end{array} \right)=0\implies \lambda^2-\lambda-1=0$，解得$\lambda=\dfrac{1\pm \sqrt{5}}{2}$，可求出其中兩個特徵向量$x=\left(\begin{array}{c} \dfrac{1\pm \sqrt{5}}{2} \\ 1 \end{array} \right)$</p>
<p>以此為基礎對矩陣$A$進行對角化可得</p>
<p>$\left(\begin{array}{cc} 1 &amp; 1 \\ 1 &amp; 0 \end{array} \right)=\left(\begin{array}{cc} \dfrac{1+\sqrt{5}}{2} &amp; \dfrac{1-\sqrt{5}}{2} \\ 1 &amp; 1 \end{array} \right)\left(\begin{array}{cc} \dfrac{1+\sqrt{5}}{2} &amp; 0 \\ 0 &amp; \dfrac{1-\sqrt{5}}{2} \end{array} \right)\dfrac{1}{\sqrt{5}}\left(\begin{array}{cc} 1 &amp; -\dfrac{1-\sqrt{5}}{2} \\ -1 &amp; \dfrac{1+\sqrt{5}}{2} \end{array} \right)$，故</p>
<p>$\left(\begin{array}{cc} 1 &amp; 1 \\ 1 &amp; 0 \end{array} \right)^{n-1}=\left(\begin{array}{cc} \dfrac{1+\sqrt{5}}{2} &amp; \dfrac{1-\sqrt{5}}{2} \\ 1 &amp; 1 \end{array} \right)\left(\begin{array}{cc} (\dfrac{1+\sqrt{5}}{2})^{n-1} &amp; 0 \\ 0 &amp; (\dfrac{1-\sqrt{5}}{2})^{n-1} \end{array} \right)\dfrac{1}{\sqrt{5}}\left(\begin{array}{cc} 1 &amp; -\dfrac{1-\sqrt{5}}{2} \\ -1 &amp; \dfrac{1+\sqrt{5}}{2} \end{array} \right)$</p>
<p>$=\dfrac{1}{\sqrt{5}}\left(\begin{array}{cc} (\dfrac{1+\sqrt{5}}{2})^n-(\dfrac{1-\sqrt{5}}{2})^n &amp; -\dfrac{1-\sqrt{5}}{2}(\dfrac{1+\sqrt{5}}{2})^{n}+\dfrac{1+\sqrt{5}}{2}(\dfrac{1-\sqrt{5}}{2})^{n} \\ (\dfrac{1+\sqrt{5}}{2})^{n-1}-(\dfrac{1-\sqrt{5}}{2})^{n-1} &amp; -\dfrac{1-\sqrt{5}}{2}(\dfrac{1+\sqrt{5}}{2})^{n-1}+\dfrac{1+\sqrt{5}}{2}(\dfrac{1-\sqrt{5}}{2})^{n-1} \end{array} \right)$</p>
<p>將其代回原式並將矩陣乘開即可求得費波那契數列一般項$F_n=\dfrac{1}{\sqrt{5}}((\dfrac{1+\sqrt{5}}{2})^n-(\dfrac{1-\sqrt{5}}{2})^n)$</p>
<div class="note danger flat"><p>P.S.最後一步建議不要用根與係數把$n$次多項式乘開!不然可能會因為消不掉而卡住…乘開成這樣是最好消去的狀態!(除非您是通靈電神，可以在兩個根自由互換 Orz)</p>
</div>

<blockquote>
<p>我想起了被矩陣對角化支配的”美好”時光…&gt;&lt;</p>
</blockquote>
<h1 id="生成函數法"><a href="#生成函數法" class="headerlink" title="生成函數法"></a>生成函數法</h1><p>西元 1843 年, 法國數學家棣美弗(Jacques-Philippe-Marie Binet)利用一般生成函數求出費氏數列的一般式。這是人類紀錄史上第一次求出費氏數列一般項，也是生成函數應用於數學史的拓展。</p>
<p>但事實上我原本並不知道這個做法，生成函數並不在高中教材中，但就應用層面而言，它的使用廣泛度事實上遠遠超乎我們的想像，舉凡我們常用的排列組合、遞迴關係等，都可以將原來的形式$(C^m_n、P^m_n、H^m_n、$遞迴式$…)$轉換為函數的形式。但要完整的介紹生成函數事實上並不容易，我對於生成函數也不算熟悉，因此在此就僅整理生成函數如何轉換費波那契數列的部分。</p>
<p>利用普通生成函數(OGF，ordinary generating function)冪級數$\sum\limits_{i = 0}^\infty{a_ix^i}$對費氏數列做一般數列轉換成生成函數，可將其表為$\sum\limits_{k=1}^\infty{F_kx^k}_{(註1)}$，令其為$g(x)$並展開可得:<br>$g(x)=F_1x+F_2x^2+F_3x^3+F_4x^4+…(1)$式<br>對該函數動一點手腳:<br>$xg(x)=F_1x^2+F_2x^3+F_3x^4+F_4x^5+…(2)$式<br>再來一點:<br>$x^2g(x)=F_1x^3+F_2x^4+F_3x^5+F_4x^6+…(3)$式</p>
<p>接著代入$F_1=F_2=1$，當$|x|&lt;1$時，以$(1)$式$-(2)$式$-(3)$式可得$(1-x-x^2)g(x)=x\implies g(x)=\dfrac{x}{1-x-x^2}$</p>
<p>$=\dfrac{x}{(1-\dfrac{1+\sqrt{5}}{2}x)(1-\dfrac{1-\sqrt{5}}{2}x)}$</p>
<p>$=\dfrac{1}{\sqrt{5}x}(\dfrac{1}{\dfrac{1}{x}-\dfrac{1+\sqrt{5}}{2}}-\dfrac{1}{\dfrac{1}{x}-\dfrac{1-\sqrt{5}}{2}})…$(分項對消)</p>
<p>此時需引入勞倫級數(Laurent series)概念，在此不解說其深入概念，但是利用之，考慮以上部分分數展開式，可得該級數為<br>$g(x)=\dfrac{1}{\sqrt{5}x}\sum\limits_{n=1}^\infty{((\dfrac{1+\sqrt{5}}{2})^{n-1}-<br>(\dfrac{1-\sqrt{5}}{2})^{n-1})x^n}$</p>
<p>$=\dfrac{1}{\sqrt{5}}\sum\limits_{n=1}^\infty{((\dfrac{1+\sqrt{5}}{2})^{n-1}-<br>(\dfrac{1-\sqrt{5}}{2})^{n-1})x^{n-1}}$</p>
<p>代入後與原$g(x)$比較係數可得費波那契數列一般項$F_n=\dfrac{1}{\sqrt{5}}((\dfrac{1+\sqrt{5}}{2})^n-(\dfrac{1-\sqrt{5}}{2})^n)$</p>
<div class="note info flat"><p>註 1:這一步的定義事實上不夠嚴謹與詳細，詳情請見生成函數之生成方法與限制，其中牽涉到映成函數、光滑函數與完全歸納法等的運算。</p>
</div>

<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>費氏數列的神奇之處，在於其遞迴式將無理數的運算表示為有理數的遞迴式，這在數學的運算上事實上並不常見。而透過我們所推導出的一般式，我們也可以發現，費波那契數列可以被表為線性的形式$F_n=\alpha(\dfrac{1+\sqrt{5}}{2})^n+\beta(\dfrac{1-\sqrt{5}}{2})^n$，這凸顯了其之線性組合的特性，事實上，這個性質的類似方法也可以做為導出一般項的作法，一起來看看最後一種導出法吧~</p>
<h1 id="Bonus-線性置換法"><a href="#Bonus-線性置換法" class="headerlink" title="Bonus : 線性置換法"></a>Bonus : 線性置換法</h1><p>這裡所謂的線性，是指在透過利用費氏數列的組合下，求得一般項的方法。首先，我們可以十分簡單地推出以下兩個費氏數列的性質:</p>
<p>1.$(F_i)_i，(G_i)_i$均為費氏數列，則$(F_i+G_i)_i$亦為費氏數列。</p>
<p>$(F_{n+2}+G_{n+2})=(F_{n+1}+F_{n})+(G_{n+1}+G_{n})=(F_{n+1}+G_{n+1})+(F_{n}+G_{n})$，即可推出。</p>
<p>2.承上，$(\alpha F_i)_i$亦為費氏數列</p>
<p>$(\alpha F_{n+2})=\alpha(F_{n+1}+F_n)=(\alpha F_{n+1})+(\alpha F_n)$，即可推出。</p>
<p>由上兩點可以證明費氏數列經過線性組合仍為費氏數列。</p>
<p>因此我們可以考慮在$a_n$與$b_n$均為費氏數列(不考慮$F_1=F_2=1$之條件)的情況下，取$\alpha、\beta$ $s.t.$ $\alpha、\beta\in R$，令新數列$H_n=\alpha a_n+\beta b_n$，則新數列$H_n$為一費氏數列。從上我們可以知道，只要取得適當之數列與代數即可。</p>
<p>但我們如何定義$a_n$與$b_n$的存在呢?我們首先透過我們熟悉的數列來定義之，因為其是費氏數列之子元素，這樣的取法不影響我們對於費氏數列的定義。首先，若$a_n$與$b_n$為等差數列，他是沒有辦法滿足費氏數列的性質的。因此，我們考慮等比數列。若$a_n$與$b_n$屬於等比數列，又其兩者為費氏數列，可令其中一者之一般項為$a_n=kr^{n-1}$，因此透過費氏數列定義，$kr^{n+2}=kr^{n+1}+kr^n$，設定$k\ne0，r\ne1$，則可列出算式$r^2-r-1=0$，解得$a_n、b_n=((\dfrac{1\pm\sqrt{5}}{2})^{i-1})^{\infty}_{i=1}$</p>
<p>此時帶回原式解$\alpha$與$\beta$，且原數列$H$須滿足費氏數列之$F_1=F_2=1$性質，由此可列出以下方程式:</p>
<p>$\begin{cases}<br>    1=\alpha+\beta \\<br>    1=\dfrac{1+\sqrt{5}}{2}\alpha+\dfrac{1-\sqrt{5}}{2}\beta<br>  \end{cases}$</p>
<p>解得$\alpha=\dfrac{1}{\sqrt{5}}(\dfrac{1+\sqrt{5}}{2})、\beta=-\dfrac{1}{\sqrt{5}}(\dfrac{1-\sqrt{5}}{2})$，將四項條件代回原式即可求得費波那契數列一般項</p>
<p>$H_n=\dfrac{1}{\sqrt{5}}((\dfrac{1+\sqrt{5}}{2})^n-(\dfrac{1-\sqrt{5}}{2})^n)$</p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Fibonacci_number">https://en.wikipedia.org/wiki/Fibonacci_number</a><br><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Eigenvalues_and_eigenvectors">https://en.wikipedia.org/wiki/Eigenvalues_and_eigenvectors</a><br><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Generating_function">https://en.wikipedia.org/wiki/Generating_function</a><br><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Laurent_series">https://en.wikipedia.org/wiki/Laurent_series</a><br><a target="_blank" rel="noopener" href="http://oz.nthu.edu.tw/~u9721201/penguin2/math/article/FibonacciSequence.pdf">http://oz.nthu.edu.tw/~u9721201/penguin2/math/article/FibonacciSequence.pdf</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Albert Huang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://albert-notes.github.io/2021/08/25/fibonacci-sequence-trans/">http://albert-notes.github.io/2021/08/25/fibonacci-sequence-trans/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Mathematics/">Mathematics</a><a class="post-meta__tags" href="/tags/Fibonacci-Sequence/">Fibonacci Sequence</a><a class="post-meta__tags" href="/tags/Linear-Algebra/">Linear Algebra</a><a class="post-meta__tags" href="/tags/Matrix/">Matrix</a><a class="post-meta__tags" href="/tags/Generating-Function/">Generating Function</a></div><div class="post_share"><div class="social-share" data-image="/img/fib.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/06/15/SARS-COV-2-1/"><img class="prev-cover" src="/img/cov.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Introduction of COVID-19's Machanism and Impact</div></div></a></div><div class="next-post pull-right"><a href="/2021/12/26/Momoshiro/"><img class="next-cover" src="/img/tsm.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">寫畫桃城-桃花心木的深情記憶</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2021/05/16/Quantum-Computing-2/" title="Quantum Computing Part II"><img class="cover" src="/img/gow.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-16</div><div class="title">Quantum Computing Part II</div></div></a></div><div><a href="/2021/05/08/Quantum-Computing-1/" title="Quantum Computing Part I"><img class="cover" src="/img/qun.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-08</div><div class="title">Quantum Computing Part I</div></div></a></div><div><a href="/2021/05/01/Quantum-Computing/" title="Quantum Computing Getting Started"><img class="cover" src="/img/com.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-01</div><div class="title">Quantum Computing Getting Started</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/alb.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Albert Huang</div><div class="author-info__description">Decide your own life.</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">11</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">16</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/albert-notes"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/albert-notes" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:alb105322129@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.instagram.com/albert.huang_57/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">Here is Albert Huang's website!</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#What%E2%80%99s-Fibonacci-Sequence"><span class="toc-number">1.</span> <span class="toc-text">What’s Fibonacci Sequence?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#History-of-Fibonacci-Sequence"><span class="toc-number">2.</span> <span class="toc-text">History of Fibonacci Sequence</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Thinking"><span class="toc-number">3.</span> <span class="toc-text">Thinking</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Example-1-%E4%B8%80%E9%9A%8E%E9%81%9E%E8%BF%B4"><span class="toc-number">3.1.</span> <span class="toc-text">Example 1 (一階遞迴)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Example-2-%E4%BA%8C%E9%9A%8E%E9%81%9E%E8%BF%B4"><span class="toc-number">3.2.</span> <span class="toc-text">Example 2 (二階遞迴)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9A%8E%E5%B7%AE%E6%B3%95"><span class="toc-number">4.</span> <span class="toc-text">階差法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Method-1"><span class="toc-number">4.1.</span> <span class="toc-text">Method 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Method-2"><span class="toc-number">4.2.</span> <span class="toc-text">Method 2</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9F%A9%E9%99%A3%E6%B3%95"><span class="toc-number">5.</span> <span class="toc-text">矩陣法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%87%BD%E6%95%B8%E6%B3%95"><span class="toc-number">6.</span> <span class="toc-text">生成函數法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Conclusion"><span class="toc-number">7.</span> <span class="toc-text">Conclusion</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Bonus-%E7%B7%9A%E6%80%A7%E7%BD%AE%E6%8F%9B%E6%B3%95"><span class="toc-number">8.</span> <span class="toc-text">Bonus : 線性置換法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#References"><span class="toc-number">9.</span> <span class="toc-text">References</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/12/26/Momoshiro/" title="寫畫桃城-桃花心木的深情記憶"><img src="/img/tsm.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="寫畫桃城-桃花心木的深情記憶"/></a><div class="content"><a class="title" href="/2021/12/26/Momoshiro/" title="寫畫桃城-桃花心木的深情記憶">寫畫桃城-桃花心木的深情記憶</a><time datetime="2021-12-26T04:48:00.000Z" title="Created 2021-12-26 12:48:00">2021-12-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/08/25/fibonacci-sequence-trans/" title="Fibonacci Sequence's Transformation"><img src="/img/fib.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Fibonacci Sequence's Transformation"/></a><div class="content"><a class="title" href="/2021/08/25/fibonacci-sequence-trans/" title="Fibonacci Sequence's Transformation">Fibonacci Sequence's Transformation</a><time datetime="2021-08-25T06:35:31.000Z" title="Created 2021-08-25 14:35:31">2021-08-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/06/15/SARS-COV-2-1/" title="Introduction of COVID-19's Machanism and Impact"><img src="/img/cov.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Introduction of COVID-19's Machanism and Impact"/></a><div class="content"><a class="title" href="/2021/06/15/SARS-COV-2-1/" title="Introduction of COVID-19's Machanism and Impact">Introduction of COVID-19's Machanism and Impact</a><time datetime="2021-06-15T14:38:07.000Z" title="Created 2021-06-15 22:38:07">2021-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/06/06/myfirstctf-2021/" title="2021 MyFirstCTF Write Up"><img src="/img/mfc.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2021 MyFirstCTF Write Up"/></a><div class="content"><a class="title" href="/2021/06/06/myfirstctf-2021/" title="2021 MyFirstCTF Write Up">2021 MyFirstCTF Write Up</a><time datetime="2021-06-06T06:08:29.000Z" title="Created 2021-06-06 14:08:29">2021-06-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/06/06/AIS3-2021-preexam/" title="2021 AIS3 Pre-exam Write Up"><img src="/img/ais.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2021 AIS3 Pre-exam Write Up"/></a><div class="content"><a class="title" href="/2021/06/06/AIS3-2021-preexam/" title="2021 AIS3 Pre-exam Write Up">2021 AIS3 Pre-exam Write Up</a><time datetime="2021-06-06T06:08:29.000Z" title="Created 2021-06-06 14:08:29">2021-06-06</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Albert Huang</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="Increase font size"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="Decrease font size"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    loader: {
      source: {
        '[tex]/amsCd': '[tex]/amscd'
      }
    },
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        addClass: [200,() => {
          document.querySelectorAll('mjx-container:not([display=\'true\']').forEach( node => {
            const target = node.parentNode
            if (!target.classList.contains('has-jax')) {
              target.classList.add('mathjax-overflow')
            }
          })
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', '', 'katex-wrap')
  })
})()</script><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script></div><script src="//code.tidio.co/qqpjqsklrzstouh4l6ias23ukyxcbm3p.js" async></script><script src="/js/exten.js"></script><link rel="stylesheet" href="/css/exten.css"><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/mouse_snow.min.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script src="//code.tidio.co/qqpjqsklrzstouh4l6ias23ukyxcbm3p.js" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/haru02.model.json"},"display":{"position":"right"},"mobile":{"show":false},"react":{"opacity":1}});</script></body></html>